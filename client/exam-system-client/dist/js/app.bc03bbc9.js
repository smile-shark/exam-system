(function(){var e={477:function(){},1114:function(e,t,a){"use strict";e.exports=a.p+"img/updateQueestionRefer.7ce40b8f.png"},1823:function(e,t,a){"use strict";var s=a(6848),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],i=a(1656),n={},l=(0,i.A)(n,o,r,!1,null,null,null),u=l.exports,c=a(6178),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"center"},[t("h1",[e._v("考试系统")]),t("div",{staticClass:"logon"},[t("div",{class:e.overlaylong},[0==e.disfiex?t("div",{staticClass:"overlaylong-Signin"},[t("h2",{staticClass:"overlaylongH2"},[e._v("登 录")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginAcount,expression:"loginAcount"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:e.loginAcount},on:{input:function(t){t.target.composing||(e.loginAcount=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginPassword,expression:"loginPassword"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.loginPassword},on:{input:function(t){t.target.composing||(e.loginPassword=t.target.value)}}}),t("h3",[t("el-link",[e._v("忘记密码？")]),t("el-link",{on:{click:function(t){return e.routerTo("/admin/login")}}},[e._v("管理员登录")])],1),t("button",{staticClass:"inupbutton",on:{click:function(t){return t.preventDefault(),e.studentLogin.apply(null,arguments)}}},[e._v("登 录")])]):e._e(),1==e.disfiex?t("div",{staticClass:"overlaylong-Signup"},[t("h2",{staticClass:"overlaylongH2"},[e._v("注册账户")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signupName,expression:"signupName"}],attrs:{type:"text",placeholder:"昵称"},domProps:{value:e.signupName},on:{input:function(t){t.target.composing||(e.signupName=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signupAccount,expression:"signupAccount"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:e.signupAccount},on:{input:function(t){t.target.composing||(e.signupAccount=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signupPassword,expression:"signupPassword"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.signupPassword},on:{input:function(t){t.target.composing||(e.signupPassword=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signupRePassword,expression:"signupRePassword"}],attrs:{type:"password",placeholder:"重复密码"},domProps:{value:e.signupRePassword},on:{input:function(t){t.target.composing||(e.signupRePassword=t.target.value)}}}),[t("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",placeholder:"请选择教师"},model:{value:e.adminId,callback:function(t){e.adminId=t},expression:"adminId"}},e._l(e.options,(function(e,a){return t("el-option",{key:a,attrs:{label:e.administratorName,value:e.administratorId}})})),1)],t("button",{staticClass:"inupbutton",on:{click:function(t){return t.preventDefault(),e.studentSignUp.apply(null,arguments)}}},[e._v("注 册")])],2):e._e()]),t("div",{class:e.overlaytitle},[0==e.disfiex?t("div",{staticClass:"overlaytitle-Signin"},[t("h2",{staticClass:"overlaytitleH2"},[e._v("你好，朋友！")]),t("p",{staticClass:"overlaytitleP"},[e._v(" 输入你的名字，让我们快乐的开始考试吧 ")]),t("div",{staticClass:"buttongohs",on:{click:e.Signin}},[e._v("注 册")])]):e._e(),1==e.disfiex?t("div",{staticClass:"overlaytitle-Signup"},[t("h2",{staticClass:"overlaytitleH2"},[e._v("欢迎回来！")]),t("p",{staticClass:"overlaytitleP"},[e._v("为了与我们保持联系，请使用您的个人信息登录")]),t("div",{staticClass:"buttongohs",on:{click:e.Signup}},[e._v("登 录")])]):e._e()])])])},p=[],m=(a(4114),a(4373));const h="/api";var g={getAdministratorList:h+"/administrator/name/list",studentSignUp:h+"/student/signup",studentLogin:h+"/student/login",adminLogin:h+"/administrator/login",studentCount:h+"/teacher/student/count",courseCount:h+"/teacher/course/count",questionCount:h+"/teacher/question/count",examPaperCount:h+"/teacher/exam/paper/count",courseListNameAndId:h+"/teacher/course/list/name/id",chapterListNameTitleAndId:h+"/teacher/chapter/list/name/title/id",subsectionListNameAndId:h+"/teacher/subsections/list/name/id",questionListByParams:h+"/teacher/question/list/byCourseChapterSubsectionContentType",subsectionInfo:h+"/teacher/subsection/info",answerInfo:h+"/teacher/answer/info/by/questionId",chapterListNameTitleAndIdInCourseId:h+"/teacher/chapter/list/name/title/id/in/courseIds",subsectionListNameAndIdInChapterId:h+"/teacher/subsections/list/name/id/by/chapterIds",pullQuestionListByParams:h+"/teacher/question/select/bySubsectionsAndTypeLimitNum",questionListByParamsNotQuestionId:h+"/teacher/question/select/bySubsectionsAndTypeLimitNumNotQuestionId",createExamPaper:h+"/teacher/exam/paper/insert",getExamPaperIdTitle:h+"/teacher/exam/paper/select/selectAllExamPaperIdTitle",getAllStudent:h+"/teacher/student/select/selectAllStudent",releaseExamPaper:h+"/teacher/release/examPaper/insertExamPaperRelease",getExamPaperListByParams:h+"/teacher/exam/paper/select/selectExamPaperByParams",getStudentScoreListByStudents:h+"/teacher/list/selectExamPaperAllocationsInStudentIdAndBetweenTime",getStudentScoreListByStudentsNew:h+"/teacher/list/selectStudentInStudentIds",insertQuestions:h+"/teacher/insert/questions/insertQuestion",getAllCourses:h+"/teacher/course/list/selectAllCoursesAndChapters",insertCourse:h+"/teacher/course/insert/insertCourse",deleteQuestion:h+"/teacher/delete/question/deleteQuestionByQuestionId",updateQuestion:h+"/teacher/update/question/updateQuestionByQuestionId",insertChapter:h+"/teacher/chapter/insert/insertChapters",updateCourse:h+"/teacher/course/update/updateCourse",deleteCourseByCourseId:h+"/teacher/course/delete/deleteCourseByCourseId",insertSubsection:h+"/teacher/subsection/insert/insertSubsection",updateChapter:h+"/teacher/chapter/update/updateChapter",deleteChapterByChapterId:h+"/teacher/chapter/delete/deleteChapter",updateSubsection:h+"/teacher/subsection/update/updateSubsection",deleteSubsectionBySubsectionId:h+"/teacher/subsection/delete/deleteSubsectionBySubsectionId",getStudentListVague:h+"/teacher/list/selectStudentByStudentNameOrAccount",deleteStudentByStudentId:h+"/teacher/student/delete/deleteStudentByStudentId",updateExamPaperToCancel:h+"/teacher/exam/updateExamPaperToCancel",deleteExamPaperById:h+"/teacher/exam/deleteExamPaperById",getExamPaperCountByState:h+"/student/count/allocationExamPaperCountByStudentIdAndState",getAnswerQuestionCountByStudentId:h+"/student/answerRecordCountByStudentId",getWoringQuestionCountByStudentId:h+"/student/wrongQuestionRecordCountByStudentId",getLastExamScoreByStudentId:h+"/student/lastScoreByExamPaperAllocationId",getAvgScoreByStudentId:h+"/student/avgScoreByStudentId",getExamCountByStudentId:h+"/student/count/ExamCountByStudentId",getExamPaperListByStudentIdAndState:h+"/student/list/selectExamPaperAllocationsByStudentIdParamState",getExamPaperByExamPaperAllocationId:h+"/student/exam/selectExamPaperAllocationByExamPaperAllocationId",submitAnswers:h+"/student/submit/insertAnswerRecord",getExamPaperListFinish:h+"/student/list/selectExamPaperAllocationsByStudentIdFinish",getReviewExamPaperByExamPaperAllocationId:h+"/student/review/selectExamPaperAllocationByExamPaperAllocationIdReview",getMistakesCollectionByStudentId:h+"/student/list/selectAnswerRecordByStudentIdIsFalse"},b=a(9143),f=a.n(b),x=a(3169),v=a.n(x);const S="www.examSystem.com",y=m.A.create({timeout:3e4});y.interceptors.request.use((e=>{const t=localStorage.getItem("adminToken"),a=localStorage.getItem("studentToken");return e.headers["AdminToken"]=t||"",e.headers["StudentToken"]=a||"",e}),(e=>Promise.reject(e))),y.interceptors.response.use((e=>(200==e.data.code&&e.data.msg?b.Message.success(e.data.msg):e.data.msg&&(b.Message.error(e.data.msg),"请重新登录"==e.data.msg&&setTimeout((()=>{Xt.push("/login")}),1e3)),e.data=JSON.parse(JSON.stringify(e.data).replace(/https:\/\/ai.cqzuxia.com\/oss\/api\/ImageViewer\//g,"/oss/api/ImageViewer/").replace(/\/oss\/api\/ImageViewer\//g,"https://ai.cqzuxia.com/oss/api/ImageViewer/")),e.data)),(e=>(console.log(e),Promise.reject(e))));var P={getAdministratorNameList(){return y.post(g.getAdministratorList)},studentSignUp(e,t,a,s){return y.post(g.studentSignUp,{studentAccount:e,studentPassword:v().AES.encrypt(t,S).toString(),studentName:a,administratorId:s})},studentLogin(e,t){return y.post(g.studentLogin,{studentAccount:e,studentPassword:v().AES.encrypt(t,S).toString()})},adminLogin(e,t){return y.post(g.adminLogin,{administratorAccount:e,administratorPassword:v().AES.encrypt(t,S).toString()})},getStudentCount(){return y.post(g.studentCount)},getCourseCount(){return y.post(g.courseCount)},getQuestionCount(){return y.post(g.questionCount)},getExamPaperCount(){return y.post(g.examPaperCount)},getCourseListNameAndId(){return y.post(g.courseListNameAndId)},getChapterListNameTitleAndId(e){return y.post(g.chapterListNameTitleAndId,{courseId:e})},getSubsectionListNameAndId(e){return y.post(g.subsectionListNameAndId,{chapterId:e})},getQuestionList(e,t,a,s,o,r,i,n){return y.post(g.questionListByParams,{vague:n,page:e,size:t,courseId:a,chapterId:s,subsectionId:o,questionTypes:r,questionContent:i})},getSubsectionInfo(e){return y.post(g.subsectionInfo,{subsectionId:e})},getAnswerInfo(e){return y.post(g.answerInfo,{questionId:e})},chapterListNameTitleAndIdInCourseId(e){return y.post(g.chapterListNameTitleAndIdInCourseId,{courseIds:e})},subsectionListNameAndIdInChapterId(e){return y.post(g.subsectionListNameAndIdInChapterId,{chapterIds:e})},pullQuestionListByParams(e,t,a,s,o,r){return y.post(g.pullQuestionListByParams,{courseIds:e,chapterIds:t,subsectionIds:a,questionType0Count:s,questionType1Count:o,questionType2Count:r})},questionListByParamsNotQuestionId(e,t,a,s,o){return y.post(g.questionListByParamsNotQuestionId,{courseIds:e,chapterIds:t,subsectionIds:a,questionType:s,questionId:o})},createExamPaper(e,t,a,s){return y.post(g.createExamPaper,{administratorId:e,examPaperTitle:t,questions:a,totalScore:s})},getExamPaperIdTitle(){return y.post(g.getExamPaperIdTitle)},getAllStudent(){return y.post(g.getAllStudent)},releaseExamPaper(e,t,a,s,o,r,i){return y.post(g.releaseExamPaper,{examPaperId:e,administratorId:t,examStartTime:a,examEndTime:s,notes:o,students:r,duration:i})},getExamPaperListByParams(e,t,a,s,o,r){return y.post(g.getExamPaperListByParams,{administratorIds:e,examPaperStates:t,examPaperTitle:a,page:s,size:o,vague:r})},getExamPaperCountByState(e,t){return y.post(g.getExamPaperCountByState,{studentId:e,examPaperAllocationState:t})},getAnswerQuestionCountByStudentId(e){return y.post(g.getAnswerQuestionCountByStudentId,{studentId:e})},getWoringQuestionCountByStudentId(e){return y.post(g.getWoringQuestionCountByStudentId,{studentId:e})},getLastExamScoreByStudentId(e){return y.post(g.getLastExamScoreByStudentId,{studentId:e})},getAvgScoreByStudentId(e){return y.post(g.getAvgScoreByStudentId,{studentId:e})},getExamCountByStudentId(e){return y.post(g.getExamCountByStudentId,{studentId:e})},getExamPaperListByStudentIdAndState(e,t,a,s){return y.post(g.getExamPaperListByStudentIdAndState,{studentId:e,examPaperAllocationState:t,page:a,size:s})},getExamPaperByExamPaperAllocationId(e){return y.post(g.getExamPaperByExamPaperAllocationId,{examPaperAllocationId:e})},submitAnswers(e){return y.post(g.submitAnswers,{examPaperAllocation:e})},getExamPaperListFinish(e,t,a){return y.post(g.getExamPaperListFinish,{studentId:e,page:t,size:a})},getReviewExamPaperByExamPaperAllocationId(e){return y.post(g.getReviewExamPaperByExamPaperAllocationId,{examPaperAllocationId:e})},getStudentScoreListByStudents(e,t,a){return y.post(g.getStudentScoreListByStudents,{students:e,examStartTime:t,examEndTime:a})},getStudentScoreListByStudentsNew(e,t,a){return y.post(g.getStudentScoreListByStudentsNew,{students:e,examStartTime:t,examEndTime:a})},insertQuestions(e,t){return y.post(g.insertQuestions,{questions:e,subsectionId:t})},getAllCourses(e,t,a,s){return y.post(g.getAllCourses,{page:e,size:t,courseName:a,vague:s})},insertCourse(e){return y.post(g.insertCourse,{course:e})},deleteQuestion(e){return y.post(g.deleteQuestion,{questionId:e})},updateQuestion(e){return y.post(g.updateQuestion,{question:{questionId:e.questionId,question:e.question,questionType:e.questionType,answers:e.answers}})},insertChapter(e){return y.post(g.insertChapter,{chapter:e})},updateCourse(e){return y.post(g.updateCourse,{course:e})},deleteCourseByCourseId(e){return y.post(g.deleteCourseByCourseId,{courseId:e})},insertSubsection(e){return y.post(g.insertSubsection,{subsection:e})},updateChapter(e){return y.post(g.updateChapter,{chapter:e})},deleteChapterByChapterId(e){return y.post(g.deleteChapterByChapterId,{chapterId:e})},updateSubsection(e){return y.post(g.updateSubsection,{subsection:e})},deleteSubsectionBySubsectionId(e){return y.post(g.deleteSubsectionBySubsectionId,{subsectionId:e})},getStudentListVague(e,t,a,s){return y.post(g.getStudentListVague,{student:e,page:t,size:a,vague:s})},deleteStudentByStudentId(e){return console.log(e),y.post(g.deleteStudentByStudentId,{studentId:e})},getMistakesCollectionByStudentId(e,t,a){return y.post(g.getMistakesCollectionByStudentId,{studentId:e,page:t,size:a})},updateExamPaperToCancel(e){return y.post(g.updateExamPaperToCancel,{examPaperId:e})},deleteExamPaperById(e){return y.post(g.deleteExamPaperById,{examPaperId:e})}},w={data(){return{overlaylong:"overlaylong",overlaytitle:"overlaytitle",disfiex:0,options:[],adminId:null,loginAcount:"",loginPassword:"",signupName:"",signupAccount:"",signupPassword:"",signupRePassword:""}},methods:{Signin(){this.overlaylong="overlaylongleft",this.overlaytitle="overlaytitleright",setTimeout((()=>{this.disfiex=1}),200)},Signup(){this.overlaylong="overlaylongright",this.overlaytitle="overlaytitleleft",setTimeout((()=>{this.disfiex=0}),200)},studentSignUp(){this.signupAccount.length<6?this.$message.error("账号长度最少6位"):this.signupPassword.length<6?this.$message.error("密码长度最少6位"):this.signupName.length<1?this.$message.error("昵称长度最少1位"):this.signupAccount.length>40||this.signupPassword.length>40||this.signupName.length>20?this.$message.error("账号或密码或昵称长度超过限制"):this.signupPassword==this.signupRePassword?this.adminId?P.studentSignUp(this.signupAccount,this.signupPassword,this.signupName,this.adminId).then((e=>{"注册成功"==e.msg&&(this.Signup(),this.signupAccount="",this.signupPassword="",this.signupRePassword="",this.signupName="",this.adminId=null)})):this.$message.error("请选择教师"):this.$message.error("两次密码输入不一致")},studentLogin(){0!=this.loginAcount.length&&0!=this.loginPassword.length?this.loginAcount.length<6||this.loginPassword.length<6?this.$message.error("账号或密码长度最少6位"):P.studentLogin(this.loginAcount,this.loginPassword).then((e=>{"登录成功"==e.msg&&(localStorage.setItem("studentInfo",JSON.stringify(e.data)),localStorage.studentToken=e.data.token,setTimeout((()=>{this.$router.push("/home")}),1e3))})):this.$message.error("账号或密码不能为空")},routerTo(e){this.$router.push(e)}},mounted(){P.getAdministratorNameList().then((e=>{e.success&&(this.options=e.data)}))}},_=w,I=(0,i.A)(_,d,p,!1,null,null,null),C=I.exports,q=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:2,xs:0}},[t("h1")]),t("el-col",{staticStyle:{height:"20vh"},attrs:{span:5,xs:12}},[t("img",{staticStyle:{height:"100%"},attrs:{src:a(3153)}})]),t("el-col",{attrs:{span:15,xs:7}},[t("h1")]),t("el-col",{attrs:{span:1,xs:3}},[t("div",{staticStyle:{"line-height":"20vh",height:"20vh",color:"#37b5f8"}},[e._v(e._s(e.studentName))])]),t("el-col",{attrs:{span:1,xs:2}},[t("div",{staticStyle:{"line-height":"20vh",height:"20vh"}},[t("el-link",{on:{click:function(t){return e.routerPush("/login")}}},[e._v(" 退出 ")])],1)])],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.routerIndex,router:"",mode:"horizontal","background-color":"#37b5f8","text-color":"#fff","active-text-color":"#004d99"}},[t("el-menu-item",{attrs:{index:"/home/childHome"}},[e._v("首 页")]),t("el-menu-item",{attrs:{index:"mistakesCollection"}},[e._v("错 题 集")]),t("el-menu-item",[e._v("设 置")])],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("router-view")],1)],1)],1)},T=[],k={data(){return{routerIndex:"/home/childHome",studentName:""}},methods:{routerPush(e){this.$router.push(e)}},mounted(){localStorage.studentInfo&&(this.studentName=JSON.parse(localStorage.studentInfo).studentName)}},A=k,$=(0,i.A)(A,q,T,!1,null,null,null),N=$.exports,L=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"exam-status"},[t("div",{staticClass:"status-card",on:{click:function(t){return e.routerPush("pendingExamPagerList")}}},[t("el-badge",{attrs:{value:e.examPaper0Count,max:10,hidden:0===e.examPaper0Count}},[t("div",{staticStyle:{width:"70px"}},[e._v("待考试")])])],1),t("div",{staticClass:"status-card",on:{click:function(t){return e.routerPush("examPage")}}},[t("el-badge",{attrs:{value:e.examPaper1Count,max:10,hidden:0===e.examPaper1Count}},[t("div",{staticStyle:{width:"70px"}},[e._v("考试中")])])],1),t("div",{staticClass:"status-card",on:{click:function(t){return e.routerPush("finishExamPageList")}}},[t("div",{staticStyle:{width:"120px"}},[e._v("已结束考试")])])]),t("div",{staticClass:"stats-container"},[t("div",{staticClass:"stats-item"},[e._v("答题数"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.answerQuesitonCount))])]),t("div",{staticClass:"stats-item"},[e._v("错题数"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.wrongQuestionCount))])]),t("div",{staticClass:"stats-item"},[e._v("最近得分"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.lastScore))])]),t("div",{staticClass:"stats-item"},[e._v("平均分"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.averageScore))])]),t("div",{staticClass:"stats-item"},[e._v("考试次数"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.examCount))])])])])},E=[],Q={data(){return{examPaper0Count:0,examPaper1Count:0,answerQuesitonCount:0,wrongQuestionCount:0,lastScore:0,averageScore:0,examCount:0}},methods:{routerPush(e){this.$router.push(e)}},mounted(){if(localStorage.studentInfo){let e=JSON.parse(localStorage.studentInfo).studentId;P.getExamPaperCountByState(e,0).then((e=>{this.examPaper0Count=e.data})),P.getExamPaperCountByState(e,1).then((e=>{this.examPaper1Count=e.data})),P.getAnswerQuestionCountByStudentId(e).then((e=>{this.answerQuesitonCount=e.data})),P.getWoringQuestionCountByStudentId(e).then((e=>{this.wrongQuestionCount=e.data})),P.getLastExamScoreByStudentId(e).then((e=>{this.lastScore=e.data})),P.getAvgScoreByStudentId(e).then((e=>{this.averageScore=e.data})),P.getExamCountByStudentId(e).then((e=>{this.examCount=e.data}))}else this.$message.error("请先登录"),this.$router.push("/login")}},R=Q,D=(0,i.A)(R,L,E,!1,null,"53c70dd8",null),B=D.exports,G=(a(8111),a(2489),function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticStyle:{"min-height":"60vh",padding:"2% 20%"},attrs:{span:24}},[t("div",{staticClass:"box-border"},[e.answerRecords.filter((e=>0==e.question.questionType)).length>0?t("h2",[e._v(" 单选题 ")]):e._e(),e._l(e.answerRecords.filter((e=>0==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【单选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId,disabled:""},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{style:a.question.selectedId==s.answerId?{color:"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}):e._e()])}))],2)],2)})),e.answerRecords.filter((e=>1==e.question.questionType)).length>0?t("h2",[e._v(" 多选题 ")]):e._e(),e._l(e.answerRecords.filter((e=>1==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【多选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),t("el-checkbox-group",{model:{value:a.question.selectedIds,callback:function(t){e.$set(a.question,"selectedIds",t)},expression:"item.question.selectedIds"}},e._l(a.question.answers,(function(s){return t("div",{key:s.answerId,staticStyle:{margin:"10px"}},[t("el-checkbox",{attrs:{label:s.answerId,disabled:""}},[t("span",{style:a.question.selectedIds.includes(s.answerId)?{color:"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),0),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("div",[t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}),t("hr")]):e._e()])}))],2)],1)})),e.answerRecords.filter((e=>2==e.question.questionType)).length>0?t("h2",[e._v(" 判断题 ")]):e._e(),e._l(e.answerRecords.filter((e=>2==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【判断】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId,disabled:""},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{style:a.question.selectedId==s.answerId?{color:"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}):e._e()])}))],2)],2)}))],2)])],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",padding:"20px"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.answerRecordsPage}})],1)],1)],1)}),M=[],z=(a(1701),{data(){return{total:0,answerRecords:[],page:1,size:10}},methods:{answerRecordsPage(e=1){if(this.page=e,localStorage.studentInfo){let e=JSON.parse(localStorage.studentInfo).studentId;P.getMistakesCollectionByStudentId(e,this.page,this.size).then((e=>{for(let t of e.data.list)1==t.question.questionType?t.question.selectedIds=t.studentSelectedAnswers.map((e=>e.answerId)):t.question.selectedId=t.studentSelectedAnswers[0].answerId;console.log(e.data.list),this.total=e.data.total,this.answerRecords=e.data.list}))}}},mounted(){this.answerRecordsPage()}}),O=z,H=(0,i.A)(O,G,M,!1,null,null,null),U=H.exports,F=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"loginForm",staticClass:"loginContainer",attrs:{rules:e.rules,model:e.loginForm}},[t("h3",{staticClass:"loginTitle"},[e._v("   ")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:e.showPassword?"text":"password",placeholder:"请输入密码"},scopedSlots:e._u([{key:"suffix",fn:function(){return[t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"100%"},on:{click:function(t){e.showPassword=!e.showPassword}}},[t("el-icon",{staticClass:"el-icon-view"})],1)]},proxy:!0}]),model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t("el-link",{staticStyle:{"font-size":".8rem"},on:{click:function(t){return e.$router.push("/login")}}},[e._v("返回学生登录")])],1),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitLogin}},[e._v("登录")])],1)],1)},j=[],V={name:"Login",data(){return{showPassword:!1,loginForm:{username:"",password:""},checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:40,message:"长度在 2 到 40 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},,{min:6,message:"密码长度要大于6",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{submitLogin(){0==this.loginForm.username.length&&(this.$message.error("账号不能为空"),retrun),0==this.loginForm.password.length&&(this.$message.error("密码不能为空"),retrun),this.loginForm.password.length<6&&(this.$message.error("密码长度要大于6"),retrun),P.adminLogin(this.loginForm.username,this.loginForm.password).then((e=>{"登录成功"==e.msg&&(localStorage.adminInfo=JSON.stringify(e.data),localStorage.adminToken=e.data.token,setTimeout((()=>{this.$router.push("/admin/home")}),1e3))}))}}},J=V,W=(0,i.A)(J,F,j,!1,null,"d078af56",null),Y=W.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage_page"},[t("el-row",{staticStyle:{height:"100%"}},[t("el-col",{staticStyle:{"min-height":"100%","background-color":"#324057"},attrs:{span:4}},[t("el-menu",{staticStyle:{"min-height":"100%"},attrs:{"default-active":e.defaultActive,router:"","background-color":"#324057","text-color":"#fff"}},[t("el-menu-item",{attrs:{index:"/admin/home"}},[t("i",{staticClass:"el-icon-menu"}),e._v("首页 ")]),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-data"}),e._v("数据管理")]),t("el-menu-item",{attrs:{index:"adminQuestionManage"}},[e._v("题目管理")]),t("el-menu-item",{attrs:{index:"importQuestions"}},[e._v("题目导入")]),t("el-menu-item",{attrs:{index:"adminCourseManage"}},[e._v("课程管理")])],2),t("el-submenu",{attrs:{index:"3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user"}),e._v("学生管理")]),t("el-menu-item",{attrs:{index:"adminStudentInfo"}},[e._v("学生信息")]),t("el-menu-item",{attrs:{index:"adminStudentScore"}},[e._v("学生成绩")])],2),t("el-submenu",{attrs:{index:"4"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),e._v("试卷管理")]),t("el-menu-item",{attrs:{index:"adminShowExamPaperList"}},[e._v("试卷列表")]),t("el-menu-item",{attrs:{index:"examPaperRelease"}},[e._v("试卷发布")]),t("el-menu-item",{attrs:{index:"createExamPaper"}},[e._v("创建试卷")])],2)],1)],1),t("el-col",{staticStyle:{height:"100%",overflow:"auto"},attrs:{span:20}},[t("el-row",[t("el-col",{staticStyle:{height:"8vh",display:"flex","align-items":"center",padding:"20px","background-color":"#eff2f7",position:"relative"},attrs:{span:24}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/admin/home"}}},[e._v("首页")]),e._l(e.breadcrumbList,(function(a,s){return t("el-breadcrumb-item",{key:s,attrs:{to:a.to}},[e._v(" "+e._s(a.name)+" ")])}))],2),t("div",{staticStyle:{display:"inline-block",position:"absolute",right:"20px",color:"#3477f4"}},[e._v(e._s(e.adminName)+" "),t("el-link",{on:{click:function(t){return e.$router.push("/admin")}}},[e._v("退出")])],1)],1)],1),t("keep-alive",[t("router-view")],1)],1)],1)],1)},X=[],Z={data(){return{defaultActive:"/admin/home",breadcrumbList:[],adminName:""}},watch:{$route(e){this.updateBreadcrumb(e)}},created(){this.updateBreadcrumb(this.$route)},methods:{updateBreadcrumb(e){this.breadcrumbList=e.matched.filter((e=>e.meta&&e.meta.breadcrumb)).map((e=>({name:e.meta.breadcrumb,to:e.path})))}},mounted(){localStorage.adminInfo&&(this.adminName=JSON.parse(localStorage.adminInfo).administratorName)}},ee=Z,te=(0,i.A)(ee,K,X,!1,null,"704c53d3",null),ae=te.exports,se=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"stats-container"},[t("div",{staticClass:"stats-item"},[e._v("学生数量"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.studentCount))])]),t("div",{staticClass:"stats-item"},[e._v("课程数量"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.courseCount))])]),t("div",{staticClass:"stats-item"},[e._v("题目数量"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.questionCount))])]),t("div",{staticClass:"stats-item"},[e._v("试卷数量"),t("br"),t("span",{staticClass:"value"},[e._v(e._s(e.paperCount))])])])])],1),t("el-row",[t("el-col",{attrs:{sapn:24}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[e._v("考试数据")])])])],1)],1)],1)},oe=[],re=function(){var e=this,t=e._self._c;return t("div",{ref:"chartRef",style:{width:e.width,height:e.height}})},ie=[],ne=a(9671),le={props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},chartData:{type:Object,default:()=>({xAxisData:["类目1","类目2","类目3","类目4"],seriesData:[23,30,16,45]})}},data(){return{chart:null}},watch:{chartData:{deep:!0,handler(){this.initChart()}}},mounted(){this.initChart()},beforeDestroy(){this.chart&&this.chart.dispose()},methods:{initChart(){this.chart&&this.chart.dispose(),this.chart=ne.Ts(this.$refs.chartRef),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.chartData.xAxisData},yAxis:{type:"value"},series:[{data:this.chartData.seriesData,type:"bar"}]})}}},ue=le,ce=(0,i.A)(ue,re,ie,!1,null,null,null),de=ce.exports,pe={components:{BarChart:de},data(){return{studentCount:0,courseCount:0,questionCount:0,paperCount:0,barChartData:{xAxisData:["周一","周二","周三","周四","周五"],seriesData:[200,320,301,334,390]}}},mounted(){P.getStudentCount().then((e=>{this.studentCount=e.data})),P.getCourseCount().then((e=>{this.courseCount=e.data})),P.getQuestionCount().then((e=>{this.questionCount=e.data})),P.getExamPaperCount().then((e=>{this.paperCount=e.data}))}},me=pe,he=(0,i.A)(me,se,oe,!1,null,"a2b937c4",null),ge=he.exports,be=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"课程（可选择）"},on:{change:e.getChapterList},model:{value:e.courseId,callback:function(t){e.courseId=t},expression:"courseId"}},e._l(e.courseList,(function(e){return t("el-option",{key:e.courseId,attrs:{label:e.courseName,value:e.courseId}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"章节（可选择）"},on:{change:e.getSelectionList},model:{value:e.chapterId,callback:function(t){e.chapterId=t},expression:"chapterId"}},e._l(e.chapterList,(function(e){return t("el-option",{key:e.chapterId,attrs:{label:e.chapterTitle+" "+e.chapterName,value:e.chapterId}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"小节（可选择）"},model:{value:e.subsectionId,callback:function(t){e.subsectionId=t},expression:"subsectionId"}},e._l(e.subsectionList,(function(e){return t("el-option",{key:e.subsectionId,attrs:{label:e.subsectionName,value:e.subsectionId}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-input",{attrs:{placeholder:"题目"},model:{value:e.questionContent,callback:function(t){e.questionContent=t},expression:"questionContent"}})],1),t("div",{staticClass:"search-container"},[[t("el-checkbox",{model:{value:e.vague,callback:function(t){e.vague=t},expression:"vague"}},[e._v("模糊查询")])]],2),t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",placeholder:"题目类型（可选择）"},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},e._l(e.questionTypeList,(function(e){return t("el-option",{key:e.questionType,attrs:{label:e.questionTypeName,value:e.questionType}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.serachQuestionList(1)}}},[e._v("搜索")])],1)])],1),t("el-row",[t("el-col",{staticStyle:{height:"75vh"},attrs:{span:24}},[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questions,height:"100%"}},[t("el-table-column",{attrs:{prop:"questionId",label:"问题ID",width:"300"}}),t("el-table-column",{attrs:{label:"问题",width:"800"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"},domProps:{innerHTML:e._s(a.row.question)}})]}}])}),t("el-table-column",{attrs:{label:"问题类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.questionType?t("span",[e._v("单选题")]):e._e(),1===a.row.questionType?t("span",[e._v("多选题")]):e._e(),2===a.row.questionType?t("span",[e._v("判断题")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"操作",fixe:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.viewQuestion(a.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editQuestion(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteQuestion(a.row)}}},[e._v("删除")])]}}])})],1)]],2)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"","page-size":e.size,"hide-on-single-page":!0,layout:"prev, pager, next",total:e.questionCount},on:{"current-change":e.serachQuestionList}})],1)],1),t("el-dialog",{attrs:{title:"详细问题",visible:e.dialogShowQuestion.show,width:"50%"},on:{"update:visible":function(t){return e.$set(e.dialogShowQuestion,"show",t)}}},[t("el-form",[t("el-form-item",{attrs:{label:"问题ID"}},[e._v(" "+e._s(e.dialogShowQuestion.questionId)+" ")]),t("el-form-item",{attrs:{label:"问题"}},[t("div",{domProps:{innerHTML:e._s(e.dialogShowQuestion.question)}})]),t("el-form-item",{attrs:{label:"问题类型"}},[0===e.dialogShowQuestion.questionType?t("span",[e._v("单选题")]):e._e(),1===e.dialogShowQuestion.questionType?t("span",[e._v("多选题")]):e._e(),2===e.dialogShowQuestion.questionType?t("span",[e._v("判断题")]):e._e()]),t("el-form-item",{attrs:{label:"课程"}},[e._v(" "+e._s(e.dialogShowQuestion.courseName)+" ")]),t("el-form-item",{attrs:{label:"章节"}},[e._v(" "+e._s(e.dialogShowQuestion.chapterTitle)+" "+e._s(e.dialogShowQuestion.chapterName)+" ")]),t("el-form-item",{attrs:{label:"小节"}},[e._v(" "+e._s(e.dialogShowQuestion.subsectionName)+" ")]),t("el-form-item",{attrs:{label:"答案"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialogShowQuestion.answers}},[t("el-table-column",{attrs:{prop:"answerId",label:"答案ID",width:"300"}}),t("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[e._v(" "+e._s(a.row.answer)+" ")])]}}])}),t("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.isTrue?t("span",[e._v("正确")]):t("span",[e._v("错误")])]}}])})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogShowQuestion.show=!1}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"详细问题",visible:e.dialogUpdateQuestion.show,width:"50%"},on:{"update:visible":function(t){return e.$set(e.dialogUpdateQuestion,"show",t)}}},[t("el-form",[t("el-form-item",{attrs:{label:"问题ID"}},[e._v(" "+e._s(e.dialogUpdateQuestion.questionId)+" ")]),t("el-form-item",{attrs:{label:"问题"}},[t("el-input",{model:{value:e.dialogUpdateQuestion.question,callback:function(t){e.$set(e.dialogUpdateQuestion,"question",t)},expression:"dialogUpdateQuestion.question"}})],1),t("el-form-item",{attrs:{label:"问题类型"}},[t("el-select",{model:{value:e.dialogUpdateQuestion.questionType,callback:function(t){e.$set(e.dialogUpdateQuestion,"questionType",t)},expression:"dialogUpdateQuestion.questionType"}},[t("el-option",{attrs:{value:0,label:"单选题"}}),t("el-option",{attrs:{value:1,label:"多选题"}}),t("el-option",{attrs:{value:2,label:"判断题"}})],1)],1),t("el-form-item",{attrs:{label:"课程"}},[e._v(" "+e._s(e.dialogUpdateQuestion.courseName)+" ")]),t("el-form-item",{attrs:{label:"章节"}},[e._v(" "+e._s(e.dialogUpdateQuestion.chapterTitle)+" "+e._s(e.dialogUpdateQuestion.chapterName)+" ")]),t("el-form-item",{attrs:{label:"小节"}},[e._v(" "+e._s(e.dialogUpdateQuestion.subsectionName)+" ")]),t("el-form-item",{attrs:{label:"答案"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialogUpdateQuestion.answers}},[t("el-table-column",{attrs:{prop:"answerId",label:"答案ID",width:"300"}}),t("el-table-column",{attrs:{label:"答案"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t("el-input",{model:{value:a.row.answer,callback:function(t){e.$set(a.row,"answer",t)},expression:"scope.row.answer"}})],1)]}}])}),t("el-table-column",{attrs:{label:"是否正确"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.isTrue?t("span",[e._v("正确")]):t("span",[e._v("错误")])]}}])}),t("el-table-column",{attrs:{label:"修改"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:a.row.isTrue,callback:function(t){e.$set(a.row,"isTrue",t)},expression:"scope.row.isTrue"}})]}}])})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogUpdateQuestion.show=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"warning"},on:{click:e.updateQuestionSubmit}},[e._v("确 定")])],1)],1)],1)},fe=[],xe={data(){return{dialogShowQuestion:{show:!1,questionId:"",question:"",questionType:0,courseName:"",chapterName:"",chapterTitle:"",subsectionName:"",answers:[]},dialogUpdateQuestion:{show:!1,questionId:"",question:"",questionType:0,courseName:"",chapterName:"",chapterTitle:"",subsectionName:"",answers:[]},questionContent:"",questionType:3,questionTypeList:[{questionType:3,questionTypeName:"全部"},{questionType:0,questionTypeName:"单选题"},{questionType:1,questionTypeName:"多选题"},{questionType:2,questionTypeName:"判断题"}],vague:!0,courseId:"",chapterId:"",subsectionId:"",courseList:[],chapterList:[],subsectionList:[],page:1,size:10,questionCount:0,questions:[]}},methods:{viewQuestion(e){P.getSubsectionInfo(e.subsectionId).then((e=>{this.dialogShowQuestion.subsectionName=e.data.subsectionName,this.dialogShowQuestion.chapterName=e.data.chapter.chapterName,this.dialogShowQuestion.chapterTitle=e.data.chapter.chapterTitle,this.dialogShowQuestion.courseName=e.data.chapter.course.courseName})),P.getAnswerInfo(e.questionId).then((e=>{this.dialogShowQuestion.answers=e.data})),this.dialogShowQuestion.questionId=e.questionId,this.dialogShowQuestion.question=e.question,this.dialogShowQuestion.questionType=e.questionType,this.dialogShowQuestion.show=!0},getChapterList(){this.subsectionList=[],this.chapterId="",this.subsectionId="",P.getChapterListNameTitleAndId(this.courseId).then((e=>{this.chapterList=e.data}))},getSelectionList(){this.subsectionId="",P.getSubsectionListNameAndId(this.chapterId).then((e=>{this.subsectionList=e.data}))},serachQuestionList(e){e?this.page=e:e=1;let t=[];switch(this.questionType){case 0:t=[0];break;case 1:t=[1];break;case 2:t=[2];break;case 3:t=[0,1,2];break}P.getQuestionList(this.page,this.size,this.courseId,this.chapterId,this.subsectionId,t,this.questionContent,this.vague).then((e=>{this.questions=e.data.list,this.questionCount=e.data.total}))},deleteQuestion(e){this.$confirm("此操作将永久删除该题目, 是否继续?").then((()=>{P.deleteQuestion(e.questionId).then((e=>{this.serachQuestionList(this.page)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},editQuestion(e){P.getSubsectionInfo(e.subsectionId).then((e=>{this.dialogUpdateQuestion.subsectionName=e.data.subsectionName,this.dialogUpdateQuestion.chapterName=e.data.chapter.chapterName,this.dialogUpdateQuestion.chapterTitle=e.data.chapter.chapterTitle,this.dialogUpdateQuestion.courseName=e.data.chapter.course.courseName})),P.getAnswerInfo(e.questionId).then((e=>{this.dialogUpdateQuestion.answers=e.data})),this.dialogUpdateQuestion.questionId=e.questionId,this.dialogUpdateQuestion.question=e.question,this.dialogUpdateQuestion.questionType=e.questionType,this.dialogUpdateQuestion.show=!0},updateQuestionSubmit(){P.updateQuestion(this.dialogUpdateQuestion).then((e=>{this.dialogUpdateQuestion.show=!1,this.dialogUpdateQuestion.questionId="",this.dialogUpdateQuestion.question="",this.dialogUpdateQuestion.questionType=0,this.dialogUpdateQuestion.courseName="",this.dialogUpdateQuestion.chapterName="",this.dialogUpdateQuestion.chapterTitle="",this.dialogUpdateQuestion.subsectionName="",this.dialogUpdateQuestion.answers=[],this.serachQuestionList(this.page)}))}},mounted(){P.getCourseListNameAndId().then((e=>{this.courseList=e.data})),this.serachQuestionList()}},ve=xe,Se=(0,i.A)(ve,be,fe,!1,null,"71f98d0a",null),ye=Se.exports,Pe=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form",{ref:"form",attrs:{model:e.examPaper,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"课程："}},[t("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.selectHiddleMethod(t,e.getChapters)}},model:{value:e.examPaper.courseIds,callback:function(t){e.$set(e.examPaper,"courseIds",t)},expression:"examPaper.courseIds"}},e._l(e.courses,(function(e){return t("el-option",{key:e.courseId,attrs:{label:e.courseName,value:e.courseId}})})),1)],1),t("el-form-item",{attrs:{label:"章节："}},[t("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.selectHiddleMethod(t,e.getSubsections)}},model:{value:e.examPaper.chapterIds,callback:function(t){e.$set(e.examPaper,"chapterIds",t)},expression:"examPaper.chapterIds"}},e._l(e.chapters,(function(e){return t("el-option",{key:e.chapterId,attrs:{label:e.chapterTitle+" "+e.chapterName,value:e.chapterId}})})),1)],1),t("el-form-item",{attrs:{label:"小节："}},[t("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:e.examPaper.subsectionIds,callback:function(t){e.$set(e.examPaper,"subsectionIds",t)},expression:"examPaper.subsectionIds"}},e._l(e.subsections,(function(e){return t("el-option",{key:e.subsectionId,attrs:{label:e.subsectionName,value:e.subsectionId}})})),1)],1),t("el-form-item",{attrs:{label:"试卷标题："}},[t("el-input",{attrs:{type:"text",placeholder:"请输入试卷标题"},model:{value:e.examPaper.examPaperTitle,callback:function(t){e.$set(e.examPaper,"examPaperTitle",t)},expression:"examPaper.examPaperTitle"}})],1),t("el-form-item",{attrs:{label:"试卷总分："}},[t("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入试卷总分"},model:{value:e.examPaper.examPaperScore,callback:function(t){e.$set(e.examPaper,"examPaperScore",t)},expression:"examPaper.examPaperScore"}})],1),t("el-form-item",{attrs:{label:"单选题数量："}},[t("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入题目数量"},model:{value:e.examPaper.questionCountType0,callback:function(t){e.$set(e.examPaper,"questionCountType0",t)},expression:"examPaper.questionCountType0"}})],1),t("el-form-item",{attrs:{label:"多选题数量："}},[t("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入题目数量"},model:{value:e.examPaper.questionCountType1,callback:function(t){e.$set(e.examPaper,"questionCountType1",t)},expression:"examPaper.questionCountType1"}})],1),t("el-form-item",{attrs:{label:"判断题数量："}},[t("el-input",{attrs:{type:"number",min:"0",placeholder:"请输入题目数量"},model:{value:e.examPaper.questionCountType2,callback:function(t){e.$set(e.examPaper,"questionCountType2",t)},expression:"examPaper.questionCountType2"}})],1),t("el-form-item",{attrs:{"label-width":"40px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.createExamPaper.apply(null,arguments)}}},[e._v("生成试卷")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.getQuestions.apply(null,arguments)}}},[e._v("拉取题目")]),t("el-button",{on:{click:function(t){return t.preventDefault(),e.reset.apply(null,arguments)}}},[e._v("重置")])],1)],1)],1),t("el-col",{staticStyle:{padding:"10px"},attrs:{span:18}},[t("h2",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e._v(e._s(e.examPaper.examPaperTitle))]),t("div",{staticStyle:{padding:"10px"}},[e._v(" 试卷总分： "),t("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.examPaper.examPaperScore))]),t("span",{staticStyle:{display:"inline-block",width:"30px"}}),e._v(" 题目总数： "),t("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.questionNum()))])]),t("div",{staticStyle:{"background-color":"#f0eeed","min-height":"75vh"}},[t("el-row",[e.questions.length>0?t("el-col",{staticStyle:{padding:"10px"},attrs:{span:24}},[e.examPaper.questionCountType0>0?t("h2",{staticStyle:{padding:"10px"}},[e._v("单选题")]):e._e(),e.examPaper.questionCountType0>0?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questions.filter((e=>0==e.questionType))}},[t("el-table-column",{attrs:{label:"刷新",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left"},on:{click:function(t){return t.preventDefault(),e.refreshQuestion(a.row)}}})]}}],null,!1,2059650076)}),t("el-table-column",{attrs:{label:"题目ID",prop:"questionId",width:"300"}}),t("el-table-column",{attrs:{label:"题目"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"},domProps:{innerHTML:e._s(a.row.question)}})]}}],null,!1,1495528734)})],1):e._e(),e.examPaper.questionCountType1>0?t("h2",{staticStyle:{padding:"10px"}},[e._v("多选题")]):e._e(),e.examPaper.questionCountType1>0?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questions.filter((e=>1==e.questionType))}},[t("el-table-column",{attrs:{label:"刷新",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left"},on:{click:function(t){return t.preventDefault(),e.refreshQuestion(a.row)}}})]}}],null,!1,2059650076)}),t("el-table-column",{attrs:{label:"题目ID",prop:"questionId",width:"300"}}),t("el-table-column",{attrs:{label:"题目"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[e._v(" "+e._s(a.row.question)+" ")])]}}],null,!1,1420327037)})],1):e._e(),e.examPaper.questionCountType2>0?t("h2",{staticStyle:{padding:"10px"}},[e._v("判断题")]):e._e(),e.examPaper.questionCountType2>0?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questions.filter((e=>2==e.questionType))}},[t("el-table-column",{attrs:{label:"刷新",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left"},on:{click:function(t){return t.preventDefault(),e.refreshQuestion(a.row)}}})]}}],null,!1,2059650076)}),t("el-table-column",{attrs:{label:"题目ID",prop:"questionId",width:"300"}}),t("el-table-column",{attrs:{label:"题目"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[e._v(" "+e._s(a.row.question)+" ")])]}}],null,!1,1420327037)})],1):e._e()],1):e._e()],1)],1)])],1)],1)},we=[],_e={data(){return{examPaper:{courseIds:[],chapterIds:[],subsectionIds:[],questionCountType0:0,questionCountType1:0,questionCountType2:0,examPaperTitle:this.getFormattedDate(),examPaperScore:100},courses:[],chapters:[],subsections:[],questions:[],isSubmit:!1}},methods:{selectHiddleMethod(e,t){e||t()},getChapters(){0!=this.examPaper.courseIds.length&&P.chapterListNameTitleAndIdInCourseId(this.examPaper.courseIds).then((e=>{this.chapters=e.data}))},getSubsections(){0!=this.examPaper.chapterIds.length&&P.subsectionListNameAndIdInChapterId(this.examPaper.chapterIds).then((e=>{this.subsections=e.data}))},getQuestions(){""!=this.examPaperTitle?"试卷标题"!==this.examPaperTitle?""!=this.examPaperScore?"0"!=this.examPaperScore?0!=this.questionNum()?P.pullQuestionListByParams(this.examPaper.courseIds,this.examPaper.chapterIds,this.examPaper.subsectionIds,this.examPaper.questionCountType0,this.examPaper.questionCountType1,this.examPaper.questionCountType2).then((e=>{0==e.data.length&&this.$message.error("没有找到符合条件的题目"),this.questions=e.data})):this.$message.error("题目数量不能为0"):this.$message.error("试卷总分不能为0"):this.$message.error("试卷总分不能为空"):this.$message.error("试卷标题不能为“试卷标题”"):this.$message.error("试卷标题不能为空")},questionNum(){let e=parseInt(this.examPaper.questionCountType0)+parseInt(this.examPaper.questionCountType1)+parseInt(this.examPaper.questionCountType2);return e},refreshQuestion(e){P.questionListByParamsNotQuestionId(this.examPaper.courseIds,this.examPaper.chapterIds,this.examPaper.subsectionIds,e.questionType,e.questionId).then((e=>{this.questions.push(e.data)})),this.questions.splice(this.questions.findIndex((t=>t.questionId==e.questionId)),1)},createExamPaper(){if(0==this.questions.length)return void this.$message.error("请先拉取题目");let e=JSON.parse(localStorage.adminInfo).administratorId;e?this.isSubmit?this.$message.error("正在提交，请稍后"):(this.isSubmit=!0,P.createExamPaper(e,this.examPaper.examPaperTitle,this.questions,this.examPaper.examPaperScore).then((e=>{"创建成功"==e.msg&&(this.reset(),this.isSubmit=!1)})).catch((e=>{this.isSubmit=!1}))):(this.$message.error("请先登录"),this.router.push("/login"))},reset(){this.examPaper={questionCountType0:0,questionCountType1:0,questionCountType2:0,examPaperTitle:this.getFormattedDate(),examPaperScore:100},this.questions=[]},getFormattedDate(){const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}年${a}月${s}日考试`}},mounted(){P.getCourseListNameAndId().then((e=>{this.courses=e.data}))}},Ie=_e,Ce=(0,i.A)(Ie,Pe,we,!1,null,"8152340a",null),qe=Ce.exports,Te=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form",{ref:"form",attrs:{model:e.release,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"试卷："}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择试卷"},model:{value:e.release.examPaperId,callback:function(t){e.$set(e.release,"examPaperId",t)},expression:"release.examPaperId"}},e._l(e.examPapers,(function(e){return t("el-option",{key:e.examPaperId,attrs:{label:e.examPaperTitle,value:e.examPaperId}})})),1)],1),t("el-form-item",{attrs:{label:"考试开始时间："}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择考试开始时间"},model:{value:e.release.examStartTime,callback:function(t){e.$set(e.release,"examStartTime",t)},expression:"release.examStartTime"}})],1),t("el-form-item",{attrs:{label:"考试结束时间："}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择考试结束时间"},model:{value:e.release.examEndTime,callback:function(t){e.$set(e.release,"examEndTime",t)},expression:"release.examEndTime"}})],1),t("el-form-item",{attrs:{label:"考试时长："}},[t("span",[e._v(e._s(e.marks[e.release.duration]))]),t("br"),t("el-slider",{attrs:{max:9,step:1,"show-stop":!0},model:{value:e.release.duration,callback:function(t){e.$set(e.release,"duration",t)},expression:"release.duration"}})],1),t("el-form-item",{attrs:{label:"备注："}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:20},placeholder:"请输入内容"},model:{value:e.release.notes,callback:function(t){e.$set(e.release,"notes",t)},expression:"release.notes"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.releaseExamPaper}},[e._v("发布试卷")]),t("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1),t("el-col",{attrs:{span:18}},[t("el-row",[t("el-col",{attrs:{span:24}})],1),t("el-row",[t("el-col",{staticStyle:{padding:"20px"},attrs:{span:24}},[t("h2",[e._v("学生列表")]),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.students},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"学生ID",prop:"studentId",with:"300"}}),t("el-table-column",{attrs:{prop:"studentName",label:"学生姓名",width:"150"}}),t("el-table-column",{attrs:{label:"教师"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.administrator.administratorName)+" ")]}}])})],1),t("el-button",{staticStyle:{margin:"20px"},on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")])],1)],1)],1)],1)],1)},ke=[],Ae=(a(7588),{data(){return{examPapers:[],release:{examPaperId:"",examStartTime:"",examEndTime:"",notes:"默认备注",duration:1},students:[],studentsSelected:[],isRelease:!1,marks:{0:"15分钟",1:"30分钟",2:"45分钟",3:"60分钟",4:"1小时15分钟",5:"1小时30分钟",6:"1小时45分钟",7:"2小时",8:"2小时15分钟",9:"2小时30分钟"}}},methods:{releaseExamPaper(){if(this.release.examPaperId)if(0!=this.studentsSelected.length)if(this.release.examStartTime)if(this.release.examEndTime)if(this.release.examEndTime<new Date)this.$message.error("考试结束时间不能小于当前时间！");else if(this.release.examStartTime>this.release.examEndTime)this.$message.error("考试开始时间大于结束时间！");else if(this.release.notes)if(this.release.duration)if(localStorage.adminInfo)if(this.isRelease)this.$message.error("试卷正在发布中！");else{let e=JSON.parse(localStorage.adminInfo).administratorId;this.isRelease=!0,P.releaseExamPaper(this.release.examPaperId,e,this.release.examStartTime,this.release.examEndTime,this.release.notes,this.studentsSelected,this.release.duration).then((e=>{this.reset(),this.isRelease=!1})).catch((e=>{this.isRelease=!1,console.log(e)}))}else this.$message.error("请先登录！");else this.$message.error("时长不能为空！");else this.$message.error("备注不能为空！");else this.$message.error("请选择考试结束时间！");else this.$message.error("请选择考试开始时间！");else this.$message.error("请选择学生！");else this.$message.error("请选择试卷！")},handleSelectionChange(e){this.studentsSelected=e},toggleSelection(e){e?e.forEach((e=>{this.$refs.table.toggleRowSelection(e)})):this.$refs.table.clearSelection(),this.studentsSelected=[]},reset(){this.release={examPaperId:"",examStartTime:"",examEndTime:"",notes:"",duration:1},this.toggleSelection(),this.studentsSelected=[]}},mounted(){P.getExamPaperIdTitle().then((e=>{this.examPapers=e.data})),P.getAllStudent().then((e=>{this.students=e.data}))}}),$e=Ae,Ne=(0,i.A)($e,Te,ke,!1,null,null,null),Le=Ne.exports,Ee=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",clearable:"",multiple:"",placeholder:"创建人（可选择）"},model:{value:e.administratorIds,callback:function(t){e.administratorIds=t},expression:"administratorIds"}},e._l(e.administrators,(function(e){return t("el-option",{key:e.administratorId,attrs:{label:e.administratorName,value:e.administratorId}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-select",{attrs:{filterable:"",clearable:"",multiple:"",placeholder:"试卷状态（可选择）"},model:{value:e.examPaperState,callback:function(t){e.examPaperState=t},expression:"examPaperState"}},e._l(e.examPaperStates,(function(e){return t("el-option",{key:e.examPaperStateType,attrs:{label:e.examPaperStateName,value:e.examPaperStateType}})})),1)],1),t("div",{staticClass:"search-container"},[t("el-input",{attrs:{placeholder:"试卷标题"},model:{value:e.examPaperTitle,callback:function(t){e.examPaperTitle=t},expression:"examPaperTitle"}})],1),t("div",{staticClass:"search-container"},[[t("el-checkbox",{model:{value:e.vague,callback:function(t){e.vague=t},expression:"vague"}},[e._v("模糊查询")])]],2),t("div",{staticClass:"search-container"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.serachExamPaperList(1)}}},[e._v("搜索")])],1)])],1),t("el-row",[t("el-col",{staticStyle:{height:"75vh"},attrs:{span:24}},[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.examPapers,height:"100%"}},[t("el-table-column",{attrs:{prop:"examPaperId",label:"试卷ID",width:"300"}}),t("el-table-column",{attrs:{label:"试卷标题",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis"},domProps:{innerHTML:e._s(a.row.examPaperTitle)}})]}}])}),t("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(e.longToDateTime(a.row.examPaperCreateTime)))])]}}])}),t("el-table-column",{attrs:{prop:"questionCount",label:"问题数量"}}),t("el-table-column",{attrs:{prop:"totalScore",label:"试卷总分"}}),t("el-table-column",{attrs:{label:"试卷状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.examPaperState?t("span",[e._v("正常")]):e._e(),1===a.row.examPaperState?t("span",[e._v("作废")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"创建人"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.administrator.administratorName))])]}}])}),t("el-table-column",{attrs:{label:"操作",fixe:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.examPaperState?t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editExamPaper(a.row)}}},[e._v("作废")]):e._e(),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteExamPaper(a.row)}}},[e._v("删除")])]}}])})],1)]],2)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"","page-size":e.size,"hide-on-single-page":!0,layout:"prev, pager, next",total:e.examPaperCount},on:{"current-change":e.serachExamPaperList}})],1)],1)],1)},Qe=[],Re={data(){return{examPaperTitle:"",vague:!0,administratorIds:[],examPaperState:[],examPaperStates:[{examPaperStateType:0,examPaperStateName:"正常"},{examPaperStateType:1,examPaperStateName:"作废"}],page:1,size:10,examPaperCount:0,examPapers:[],administrators:[]}},methods:{serachExamPaperList(e){this.page=e||1,P.getExamPaperListByParams(this.administratorIds,this.examPaperState,this.examPaperTitle,this.page,this.size,this.vague).then((e=>{"获取成功"==e.msg&&(this.examPapers=e.data.list,this.examPaperCount=e.total)}))},longToDateTime(e){const t=new Date(e),a=t.getFullYear(),s=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),n=t.getSeconds().toString().padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},editExamPaper(e){P.updateExamPaperToCancel(e.examPaperId).then((e=>{"作废成功"==e.msg?(this.$message.success(e.msg),this.serachExamPaperList(1)):this.$message.error(e.msg)}))},deleteExamPaper(e){P.deleteExamPaperById(e.examPaperId).then((e=>{"删除成功"==e.msg?(this.$message.success(e.msg),this.serachExamPaperList(1)):this.$message.error(e.msg)}))}},mounted(){P.getAdministratorNameList().then((e=>{this.administrators=e.data}))}},De=Re,Be=(0,i.A)(De,Ee,Qe,!1,null,"6ea90ca9",null),Ge=Be.exports,Me=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticClass:"title",attrs:{span:24}},[t("i",{staticClass:"el-icon-back",on:{click:function(t){return e.routerPush("childHome")}}})])],1),t("el-row",[t("el-col",{staticStyle:{"padding-left":"1%","padding-right":"1%"},attrs:{span:24}},[t("h1",{staticStyle:{"text-align":"center"}},[e._v("待考试列表")]),0==e.examPaperList.length?t("el-empty",{attrs:{description:"没有考试"}}):e._e(),e._l(e.examPaperList,(function(a,s){return t("el-card",{key:s,staticClass:"my-card-style",attrs:{shadow:"hover"}},[t("div",{staticStyle:{"font-size":"30px","font-weight":"bold"}},[e._v(e._s(a.examPaperRelease.examPaper.examPaperTitle))]),t("div",[e._v("开始时间："+e._s(e.timestampToString(a.examPaperRelease.examStartTime)))]),t("div",[e._v("结束时间："+e._s(e.timestampToString(a.examPaperRelease.examEndTime)))]),t("div",[e._v("考试时长："+e._s(e.formatTimestampUTC(a.examPaperRelease.duration)))]),t("div",[e._v("满分："+e._s(a.examPaperRelease.examPaper.totalScore)+" 分")]),t("div",[e._v("题目数量："+e._s(a.examPaperRelease.examPaper.questionCount)+" 道")]),0==a.examPaperAllocationState?t("div",[e._v("考试状态：未开始")]):e._e(),1==a.examPaperAllocationState?t("div",[e._v("考试状态：考试中")]):e._e(),2==a.examPaperAllocationState?t("div",[e._v("考试状态：已完成")]):e._e(),3==a.examPaperAllocationState?t("div",[e._v("考试状态：缺考")]):e._e(),t("div",[e._v("备注："+e._s(a.examPaperRelease.notes))])])}))],2)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","padding-top":"20px"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"hide-on-single-page":!0},on:{"current-change":e.handleCurrentChange}})],1)],1),t("el-row",[t("el-col",{staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{span:24}})],1)],1)},ze=[],Oe={data(){return{total:0,examPaperList:[],page:1,size:5}},methods:{routerPush(e){this.$router.push(e)},timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},formatTimestampUTC(e){const t=new Date(e),a=String(t.getUTCHours()).padStart(2,"0"),s=String(t.getUTCMinutes()).padStart(2,"0"),o=String(t.getUTCSeconds()).padStart(2,"0");return`${a}:${s}:${o}`},handleCurrentChange(e){if(this.page=e||1,localStorage.studentInfo){let e=JSON.parse(localStorage.studentInfo).studentId;P.getExamPaperListByStudentIdAndState(e,0,this.page,this.size).then((e=>{console.log(e),this.total=e.data.total,this.examPaperList=e.data.list}))}else this.$message.error("请先登录"),this.$router.push("/login")}},mounted(){this.handleCurrentChange(1)}},He=Oe,Ue=(0,i.A)(He,Me,ze,!1,null,"889c4ab8",null),Fe=Ue.exports,je=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticClass:"title",attrs:{span:24}},[t("i",{staticClass:"el-icon-back",on:{click:function(t){return e.routerPush("childHome")}}})])],1),t("el-row",[t("el-col",{staticStyle:{"padding-left":"1%","padding-right":"1%"},attrs:{span:24}},[t("h1",{staticStyle:{"text-align":"center"}},[e._v("考试中试卷列表")]),0==e.examPaperList.length?t("el-empty",{attrs:{description:"没有考试"}}):e._e(),e._l(e.examPaperList,(function(a,s){return t("el-card",{key:s,staticClass:"my-card-style",attrs:{shadow:"hover"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{"font-size":"30px","font-weight":"bold"}},[e._v(e._s(a.examPaperRelease.examPaper.examPaperTitle))]),t("div",[e._v("开始时间："+e._s(e.timestampToString(a.examPaperRelease.examStartTime)))]),t("div",[e._v("结束时间："+e._s(e.timestampToString(a.examPaperRelease.examEndTime)))]),t("div",[e._v("考试时长："+e._s(e.formatTimestampUTC(a.examPaperRelease.duration)))]),t("div",[e._v("满分："+e._s(a.examPaperRelease.examPaper.totalScore)+" 分")]),t("div",[e._v("题目数量："+e._s(a.examPaperRelease.examPaper.questionCount)+" 道")]),0==a.examPaperAllocationState?t("div",[e._v("考试状态：未开始")]):e._e(),1==a.examPaperAllocationState?t("div",[e._v("考试状态：考试中")]):e._e(),2==a.examPaperAllocationState?t("div",[e._v("考试状态：已完成")]):e._e(),3==a.examPaperAllocationState?t("div",[e._v("考试状态：缺考")]):e._e(),t("div",[e._v("备注："+e._s(a.examPaperRelease.notes))])]),t("el-col",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center",padding:"7%"},attrs:{span:12}},[t("el-badge",{staticStyle:{padding:"0"},attrs:{"is-dot":""}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.routerToExam(a.examPaperAllocationId)}}},[e._v(" 进入考试 ")])],1)],1)],1)],1)}))],2)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","padding-top":"20px"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"hide-on-single-page":!0},on:{"current-change":e.handleCurrentChange}})],1)],1),t("el-row",[t("el-col",{staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{span:24}})],1)],1)},Ve=[],Je={data(){return{total:0,examPaperList:[],page:1,size:5}},methods:{routerPush(e){this.$router.push(e)},timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},formatTimestampUTC(e){const t=new Date(e),a=String(t.getUTCHours()).padStart(2,"0"),s=String(t.getUTCMinutes()).padStart(2,"0"),o=String(t.getUTCSeconds()).padStart(2,"0");return`${a}:${s}:${o}`},handleCurrentChange(e){if(this.page=e||1,localStorage.studentInfo){let e=JSON.parse(localStorage.studentInfo).studentId;P.getExamPaperListByStudentIdAndState(e,1,this.page,this.size).then((e=>{console.log(e),this.total=e.data.total,this.examPaperList=e.data.list}))}else this.$message.error("请先登录"),this.$router.push("/login")},routerToExam(e){const t=this.$router.resolve({name:"examPaperPage",params:{examPaperAllocationId:e}});window.open(t.href,"_blank")}},mounted(){this.handleCurrentChange(1)}},We=Je,Ye=(0,i.A)(We,je,Ve,!1,null,"cee9463e",null),Ke=Ye.exports,Xe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"containter"},[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"box-border title-style"},[t("div",{staticStyle:{"font-weight":"bold","font-size":"1.5rem"}},[e._v(" "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.examPaperTitle)+" ")]),t("br"),t("div",{staticStyle:{color:"#999999"}},[t("div",[t("span",[e._v(" 答题时间："+e._s(e.formatTimesToMinutes(e.examPaperAllocation.examPaperRelease.duration))+" 分钟")]),t("span",[e._v(" 总题数： "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.questionCount)+" 题")]),t("span",[e._v(" 总分： "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.totalScore)+" 分")]),0==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：未开始")]):e._e(),1==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：考试中")]):e._e(),2==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：已完成")]):e._e(),3==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：缺考")]):e._e()])])])])],1),t("el-row",[t("el-col",{attrs:{span:18}},[t("div",{staticClass:"box-border"},[e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)).length>0?t("h2",[e._v(" 单选题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【单选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{domProps:{innerHTML:e._s(s.answer)}})])],1)}))],2)})),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)).length>0?t("h2",[e._v(" 多选题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【多选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),t("el-checkbox-group",{model:{value:a.question.selectedIds,callback:function(t){e.$set(a.question,"selectedIds",t)},expression:"item.question.selectedIds"}},e._l(a.question.answers,(function(a){return t("div",{key:a.answerId,staticStyle:{margin:"10px"}},[t("el-checkbox",{attrs:{label:a.answerId}},[t("span",{domProps:{innerHTML:e._s(a.answer)}})])],1)})),0)],1)})),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)).length>0?t("h2",[e._v(" 判断题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【判断】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{domProps:{innerHTML:e._s(s.answer)}})])],1)}))],2)}))],2)]),t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{position:"fixed"}},[t("div",{staticClass:"box-border"},[t("i",{staticClass:"el-icon-time"}),e._v(" 考试剩余时间 "),t("span",{staticStyle:{color:"#5eb95e","font-weight":"bold"}},[e._v(" "+e._s(e.formattedTime)+" ")])]),t("div",{staticClass:"box-border exam-card-box"},[t("div",{staticStyle:{"font-weight":"bold","font-size":"1.1rem"}},[e._v(" 答题卡 ")]),t("div",{staticStyle:{color:"#999999"}},[e._v(" 点击图标转跳到对应的题目 ")]),t("div",{staticStyle:{"font-size":"14px"}},[e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 单选题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.question.selectedId?{backgroundColor:"#409eff",color:"white"}:{backgroundColor:"#f1f1f1",color:"#afafaf"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e(),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 多选题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.question.selectedIds.length>0?{backgroundColor:"#409eff",color:"white"}:{backgroundColor:"#f1f1f1",color:"#afafaf"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e(),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 判断题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.question.selectedId?{backgroundColor:"#409eff",color:"white"}:{backgroundColor:"#f1f1f1",color:"#afafaf"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e()]),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-s-order"},on:{click:function(t){return t.preventDefault(),e.submitAnswers.apply(null,arguments)}}},[e._v(" 提交答卷 ")])],1),t("div",{staticStyle:{"font-size":"14px"}},[t("span",{staticStyle:{display:"inline-block",width:"10px",height:"10px","background-color":"#d2d2d2"}}),e._v(" 未做   "),t("span",{staticStyle:{display:"inline-block",width:"10px",height:"10px","background-color":"#409eff"}}),e._v(" 已做 ")])])])])],1)],1)},Ze=[],et={data(){return{examPaperAllocation:{examPaperRelease:{examPaper:{questionOnTestPapers:[{question:{answers:[{answer:"",answerId:""}],question:"",questionId:"",questionType:0,selectedId:null,selectedIds:[]}}],questionCount:0,totalScore:0,examPaperTitle:"",examEndTime:0,examStartTime:0}},examPaperAllocationState:0,examPaperAllocationId:"",studentId:""},formattedTime:"00:00:00",timestamp:0}},methods:{timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},formatTimestampNow(){const e=this.timestamp,t=Math.floor(e/1e3),a=String(Math.floor(t/3600)).padStart(2,"0"),s=String(Math.floor(t%3600/60)).padStart(2,"0"),o=String(t%60).padStart(2,"0");return`${a}:${s}:${o}`},formatTimesToMinutes(e){return e/6e4},updateTime(){this.formattedTime=this.formatTimestampNow(),this.timestamp=this.timestamp-1e3,localStorage.timestamp=this.timestamp},toQuestionPosition(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},submitAnswers(){for(let e of this.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers)if(!e.question.selectedId&&0==e.question.selectedIds.length)return void this.$message.error("请完成所有题目");P.submitAnswers(this.examPaperAllocation).then((e=>{e.success&&(localStorage.score=e.data,localStorage.removeItem("timestamp"),this.$router.push("/resultPage"))}))}},mounted(){P.getExamPaperByExamPaperAllocationId(this.$route.params.examPaperAllocationId).then((e=>{e.data.examPaperRelease.examPaper.questionOnTestPapers.forEach((e=>{e.question.selectedIds=[]})),this.examPaperAllocation=e.data,localStorage.timestamp||(localStorage.timestamp=e.data.examPaperRelease.duration),this.timestamp=localStorage.timestamp})),setInterval(this.updateTime,1e3)},beforeDestroy(){clearInterval(this.intervalId)}},tt=et,at=(0,i.A)(tt,Xe,Ze,!1,null,"4f8ef926",null),st=at.exports,ot=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100vh",display:"flex","align-items":"center","justify-content":"center"}},[t("el-result",{attrs:{icon:"success",title:"提交成功",subTitle:"得分："+e.score+"分"}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.$router.push("/home")}}},[e._v("返回")])],1)],2)],1)},rt=[],it={data(){return{score:0}},methods:{},mounted(){localStorage.score&&(this.score=Number(localStorage.score).toFixed(2))}},nt=it,lt=(0,i.A)(nt,ot,rt,!1,null,null,null),ut=lt.exports,ct=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticClass:"title",attrs:{span:24}},[t("i",{staticClass:"el-icon-back",on:{click:function(t){return e.routerPush("childHome")}}})])],1),t("el-row",[t("el-col",{staticStyle:{"padding-left":"1%","padding-right":"1%"},attrs:{span:24}},[t("h1",{staticStyle:{"text-align":"center"}},[e._v("已结束卷列表")]),0==e.examPaperList.length?t("el-empty",{attrs:{description:"没有考试"}}):e._e(),e._l(e.examPaperList,(function(a,s){return t("el-card",{key:s,staticClass:"my-card-style",attrs:{shadow:"hover"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{"font-size":"30px","font-weight":"bold"}},[e._v(e._s(a.examPaperRelease.examPaper.examPaperTitle)+" "),2==a.examPaperAllocationState?t("span",[t("span",{staticStyle:{color:"green","font-size":"1.2rem"}},[e._v("（已完成）")])]):e._e(),3==a.examPaperAllocationState?t("span",[t("span",{staticStyle:{color:"red","font-size":"1.2rem"}},[e._v("（缺考）")])]):e._e()]),t("div",[e._v("开始时间："+e._s(e.timestampToString(a.examPaperRelease.examStartTime)))]),t("div",[e._v("结束时间："+e._s(e.timestampToString(a.examPaperRelease.examEndTime)))]),a.score?t("div",[e._v("完成时间："+e._s(e.timestampToString(a.score.finishTime)))]):e._e(),t("div",[e._v("考试时长："+e._s(e.formatTimestampUTC(a.examPaperRelease.examEndTime-a.examPaperRelease.examStartTime)))]),t("div",[e._v(" 满分："+e._s(a.examPaperRelease.examPaper.totalScore)+" 分 ")]),a.score?t("div",[e._v("得分："+e._s(a.score.score)+" 分")]):t("div",[e._v("得分：0 分")]),t("div",[e._v("题目数量："+e._s(a.examPaperRelease.examPaper.questionCount)+" 道")]),0==a.examPaperAllocationState?t("div",[e._v("考试状态：未开始")]):e._e(),1==a.examPaperAllocationState?t("div",[e._v("考试状态：考试中")]):e._e(),2==a.examPaperAllocationState?t("div",[e._v("考试状态："),t("span",{staticStyle:{color:"green"}},[e._v("已完成")])]):e._e(),3==a.examPaperAllocationState?t("div",[e._v("考试状态："),t("span",{staticStyle:{color:"red"}},[e._v("缺考")])]):e._e(),t("div",[e._v("备注："+e._s(a.examPaperRelease.notes))])]),t("el-col",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center",padding:"7%"},attrs:{span:12}},[t("el-button",{attrs:{type:"primary",disabled:2!=a.examPaperAllocationState},on:{click:function(t){return e.routerToExam(a.examPaperAllocationId)}}},[e._v(" 试卷回顾 ")])],1)],1)],1)}))],2)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","padding-top":"20px"},attrs:{span:24}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"hide-on-single-page":!0},on:{"current-change":e.handleCurrentChange}})],1)],1),t("el-row",[t("el-col",{staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{span:24}})],1)],1)},dt=[],pt={data(){return{total:0,examPaperList:[],page:1,size:5}},methods:{routerPush(e){this.$router.push(e)},timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},formatTimestampUTC(e){const t=Math.floor(e/1e3),a=Math.floor(t/3600),s=Math.floor(t%3600/60),o=t%60;return`${String(a).padStart(2,"0")}:${String(s).padStart(2,"0")}:${String(o).padStart(2,"0")}`},handleCurrentChange(e){if(this.page=e||1,localStorage.studentInfo){let e=JSON.parse(localStorage.studentInfo).studentId;P.getExamPaperListFinish(e,this.page,this.size).then((e=>{this.total=e.data.total,this.examPaperList=e.data.list}))}else this.$message.error("请先登录"),this.$router.push("/login")},routerToExam(e){const t=this.$router.resolve({name:"reviewPage",params:{examPaperAllocationId:e}});window.open(t.href,"_blank")}},mounted(){this.handleCurrentChange(1)}},mt=pt,ht=(0,i.A)(mt,ct,dt,!1,null,"189e4f73",null),gt=ht.exports,bt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"containter"},[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"box-border title-style"},[t("div",{staticStyle:{"font-weight":"bold","font-size":"1.5rem"}},[e._v(" "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.examPaperTitle)+" ")]),t("br"),t("div",{staticStyle:{color:"#999999"}},[t("div",[t("span",[e._v(" 答题时间："+e._s(e.formatTimesToMinutes(e.examPaperAllocation.examPaperRelease.duration))+" 分钟")]),t("span",[e._v(" 总题数： "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.questionCount)+" 题")]),t("span",[e._v(" 总分： "+e._s(e.examPaperAllocation.examPaperRelease.examPaper.totalScore)+" 分")]),0==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：未开始")]):e._e(),1==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：考试中")]):e._e(),2==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：已完成")]):e._e(),3==e.examPaperAllocation.examPaperAllocationState?t("span",[e._v(" 考试状态：缺考")]):e._e()])])])])],1),t("el-row",[t("el-col",{attrs:{span:18}},[t("div",{staticClass:"box-border"},[e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)).length>0?t("h2",[e._v(" 单选题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【单选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId,disabled:""},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{style:a.question.selectedId==s.answerId?{color:a.answerRecord.isTrue?"#67C23A":"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.answerRecord.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}):e._e()])}))],2)],2)})),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)).length>0?t("h2",[e._v(" 多选题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【多选】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),t("el-checkbox-group",{model:{value:a.question.selectedIds,callback:function(t){e.$set(a.question,"selectedIds",t)},expression:"item.question.selectedIds"}},e._l(a.question.answers,(function(s){return t("div",{key:s.answerId,staticStyle:{margin:"10px"}},[t("el-checkbox",{attrs:{label:s.answerId,disabled:""}},[t("span",{style:a.question.selectedIds.includes(s.answerId)?{color:a.answerRecord.isTrue?"#67C23A":"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),0),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.answerRecord.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("div",[t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}),t("hr")]):e._e()])}))],2)],1)})),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)).length>0?t("h2",[e._v(" 判断题 ")]):e._e(),e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)),(function(a,s){return t("div",{key:a.question.questionId,staticStyle:{padding:"10px","border-bottom":"1px solid #e6e6e6","margin-top":"10px"},attrs:{id:a.question.questionId}},[t("div",[t("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(s+1)+" 【判断】")]),t("span",{domProps:{innerHTML:e._s(a.question.question)}})]),e._l(a.question.answers,(function(s,o){return t("div",{key:o,staticStyle:{margin:"10px"}},[t("el-radio",{attrs:{label:s.answerId,disabled:""},model:{value:a.question.selectedId,callback:function(t){e.$set(a.question,"selectedId",t)},expression:"item.question.selectedId"}},[t("span",{style:a.question.selectedId==s.answerId?{color:a.answerRecord.isTrue?"#67C23A":"#F56C6C",fontWeight:"bold"}:{color:"auto"},domProps:{innerHTML:e._s(s.answer)}})])],1)})),t("div",{staticStyle:{"background-color":"#e6e6e6","border-radius":"5px",padding:"20px"}},[t("i",{staticClass:"el-icon-document-copy"}),t("span",{staticStyle:{color:"#999999","font-weight":"bold","margin-left":"10px"}},[e._v(" 正确答案： ")]),e._l(a.answerRecord.question.answers,(function(a,s){return t("div",{key:s,staticStyle:{"margin-top":"10px"}},[a.isTrue?t("span",{staticStyle:{"font-weight":"bold",color:"#0a95d3"},domProps:{innerHTML:e._s(a.answer)}}):e._e()])}))],2)],2)}))],2)]),t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{position:"fixed"}},[t("div",{staticClass:"box-border exam-card-box"},[t("div",{staticStyle:{"font-weight":"bold","font-size":"1.1rem"}},[e._v(" 答题卡 ")]),t("div",{staticStyle:{color:"#999999"}},[e._v(" 点击图标转跳到对应的题目 ")]),t("div",{staticStyle:{"font-size":"14px"}},[e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 单选题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>0==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.answerRecord.isTrue?{backgroundColor:"#67C23A",color:"white"}:{backgroundColor:"#F56C6C",color:"white"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e(),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 多选题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>1==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.answerRecord.isTrue?{backgroundColor:"#67C23A",color:"white"}:{backgroundColor:"#F56C6C",color:"white"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e(),e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)).length>0?t("div",[t("div",[e._v(" 判断题 ")]),t("div",{staticClass:"calendar"},e._l(e.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers.filter((e=>2==e.question.questionType)),(function(a,s){return t("div",{key:s,style:a.answerRecord.isTrue?{backgroundColor:"#67C23A",color:"white"}:{backgroundColor:"#F56C6C",color:"white"},on:{click:function(t){return e.toQuestionPosition(a.question.questionId)}}},[e._v(" "+e._s(s+1)+" ")])})),0)]):e._e()]),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}}),t("div",{staticStyle:{"font-size":"14px"}},[t("span",{staticStyle:{display:"inline-block",width:"10px",height:"10px","background-color":"#F56C6C"}}),e._v(" 错误   "),t("span",{staticStyle:{display:"inline-block",width:"10px",height:"10px","background-color":"#67C23A"}}),e._v(" 正确 ")])])])])],1)],1)},ft=[],xt=(a(116),a(531),{data(){return{examPaperAllocation:{examPaperRelease:{examPaper:{questionOnTestPapers:[{question:{answers:[{answer:"",answerId:""}],question:"",questionId:"",questionType:0,selectedId:null,selectedIds:[]}}],questionCount:0,totalScore:0,examPaperTitle:"",examEndTime:0,examStartTime:0}},examPaperAllocationState:0,examPaperAllocationId:"",studentId:""},formattedTime:""}},methods:{timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`},formatTimestampNow(e){const t=new Date,a=new Date(e),s=a-t,o=Math.floor(s/1e3),r=String(Math.floor(o/3600)).padStart(2,"0"),i=String(Math.floor(o%3600/60)).padStart(2,"0"),n=String(o%60).padStart(2,"0");return`${r}:${i}:${n}`},formatTimesToMinutes(e){return e/6e4},updateTime(){this.formattedTime=this.formatTimestampNow(this.examPaperAllocation.examPaperRelease.examEndTime)},toQuestionPosition(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},submitAnswers(){for(let e of this.examPaperAllocation.examPaperRelease.examPaper.questionOnTestPapers)if(!e.question.selectedId&&0==e.question.selectedIds.length)return void this.$message.error("请完成所有题目");P.submitAnswers(this.examPaperAllocation).then((e=>{e.success&&(localStorage.score=e.data,this.$router.push("/resultPage"))}))}},mounted(){P.getReviewExamPaperByExamPaperAllocationId(this.$route.params.examPaperAllocationId).then((e=>{e.data.examPaperRelease.examPaper.questionOnTestPapers.forEach((t=>{if(1==t.question.questionType)t.question.selectedIds=e.data.answerRecords.filter((e=>e.question.questionId==t.question.questionId)).flatMap((e=>e.studentSelectedAnswers.map((e=>e.answerId))));else{const a=e.data.answerRecords.find((e=>e.question.questionId==t.question.questionId))?.studentSelectedAnswers[0];t.question.selectedId=a?a.answerId:null}t.answerRecord=e.data.answerRecords.find((e=>e.question.questionId==t.question.questionId))})),console.log(e.data),this.examPaperAllocation=e.data})).catch((e=>{console.log(e)})),setInterval(this.updateTime,1e3)},beforeDestroy(){clearInterval(this.intervalId)}}),vt=xt,St=(0,i.A)(vt,bt,ft,!1,null,"64ed87f9",null),yt=St.exports,Pt=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticStyle:{padding:"10px"},attrs:{span:13}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{"label-width":"20px"}},[t("el-form-item",[t("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.fromDateToDate,callback:function(t){e.fromDateToDate=t},expression:"fromDateToDate"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.searchStudentScores}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",disabled:e.studentScores.length<1},on:{click:e.exportToExcel}},[e._v("导出")])],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[e.studentScores[0]?t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.studentScores,id:"table-out"}},[t("el-table-column",{attrs:{label:"学生名称",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.studentName)+" ")]}}],null,!1,3394229203)}),e._l(e.studentScores[0].examPaperAllocations,(function(a,s){return t("el-table-column",{key:s,attrs:{label:e.timestampToString(e.studentScores[0].examPaperAllocations[s].examPaperRelease.examEndTime)},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.examPaperAllocations[s]?t.row.examPaperAllocations[s].score?t.row.examPaperAllocations[s].score.score:"缺考":"不参加")+" ")]}}],null,!0)})}))],2):e._e()],1)],1)],1),t("el-col",{staticStyle:{padding:"10px"},attrs:{span:11}},[t("h2",[e._v("学生列表")]),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.students},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"学生ID",prop:"studentId",with:"300"}}),t("el-table-column",{attrs:{prop:"studentName",label:"学生姓名",width:"120"}}),t("el-table-column",{attrs:{label:"教师",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.administrator.administratorName)+" ")]}}])})],1),t("el-button",{staticStyle:{margin:"20px"},on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")])],1)],1)],1)},wt=[],_t=a(788),It=a.n(_t),Ct=a(254),qt=a.n(Ct),Tt={data(){return{students:[],studentsSelected:[],fromDateToDate:[],pickerOptions:{shortcuts:[{text:"最近一天",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},studentScores:[]}},methods:{handleSelectionChange(e){this.studentsSelected=e},toggleSelection(e){e?e.forEach((e=>{this.$refs.table.toggleRowSelection(e)})):this.$refs.table.clearSelection(),this.studentsSelected=[]},searchStudentScores(){this.fromDateToDate[0]&&this.fromDateToDate[1]?this.fromDateToDate[0]>this.fromDateToDate[1]?this.$message.error("开始时间不能大于结束时间"):this.studentsSelected.length<1?this.$message.error("至少需要选择一个学生"):P.getStudentScoreListByStudentsNew(this.studentsSelected,this.fromDateToDate[0],this.fromDateToDate[1]).then((e=>{const t=e.data,a=t.map((e=>(Array.isArray(e.examPaperAllocations)||(e.examPaperAllocations=[]),e))).sort(((e,t)=>e.examPaperAllocations.length>t.examPaperAllocations.length?-1:t.examPaperAllocations.length>e.examPaperAllocations.length?1:0));this.studentScores=a})):this.$message.error("开始时间和结束时间不能为空")},exportToExcel(){if(!this.studentScores||0===this.studentScores.length)return void this.$message.warning("没有数据可以导出");const e=["学生名称"];this.studentScores[0].examPaperAllocations&&this.studentScores[0].examPaperAllocations.forEach((t=>{e.push(this.timestampToString(t.examPaperRelease.examEndTime))}));const t=[e];this.studentScores.forEach((e=>{const a=[e.studentName];e.examPaperAllocations&&e.examPaperAllocations.forEach((e=>{a.push(e.score?e.score.score:"缺考")})),t.push(a)}));const a=Ct.utils.aoa_to_sheet(t),s=Ct.utils.book_new();Ct.utils.book_append_sheet(s,a,"学生成绩");const o=Ct.write(s,{bookType:"xlsx",type:"array"}),r=new Blob([o],{type:"application/octet-stream"});It().saveAs(r,"学生成绩.xlsx")},timestampToString(e){const t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return`${a}-${s}-${o} ${r}:${i}:${n}`}},mounted(){P.getAllStudent().then((e=>{this.students=e.data}))}},kt=Tt,At=(0,i.A)(kt,Pt,wt,!1,null,null,null),$t=At.exports,Nt=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"10px"}},[t("el-form",{staticStyle:{display:"flex","align-items":"center","justify-content":"left"},attrs:{"label-width":"20px"}},[t("el-form-item",[t("el-upload",{staticClass:"upload-demo",attrs:{"on-change":e.handleFileUpload,"before-remove":e.beforeRemove,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList,accept:".xlsx, .xls",action:"javascript:void(0)","auto-upload":!1}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传 xlsx/xls 文件")])],1)],1),t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"课程（可选择）"},on:{change:e.getChapterList},model:{value:e.courseId,callback:function(t){e.courseId=t},expression:"courseId"}},e._l(e.courseList,(function(e){return t("el-option",{key:e.courseId,attrs:{label:e.courseName,value:e.courseId}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"章节（可选择）"},on:{change:e.getSelectionList},model:{value:e.chapterId,callback:function(t){e.chapterId=t},expression:"chapterId"}},e._l(e.chapterList,(function(e){return t("el-option",{key:e.chapterId,attrs:{label:e.chapterTitle+" "+e.chapterName,value:e.chapterId}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"小节（可选择）"},model:{value:e.subsectionId,callback:function(t){e.subsectionId=t},expression:"subsectionId"}},e._l(e.subsectionList,(function(e){return t("el-option",{key:e.subsectionId,attrs:{label:e.subsectionName,value:e.subsectionId}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.submintQuestionsToServer.apply(null,arguments)}}},[e._v("上传到服务器")])],1),t("el-form-item",[t("span",{staticStyle:{color:"gray"}},[e._v("execl格式参考")]),t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"200px",height:"40px"},attrs:{src:a(1114),"preview-src-list":[a(1114)]}})],1)])],1),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.questions,border:""}},[e._l(e.columns,(function(a,s){return t("el-table-column",{key:s,attrs:{prop:a.prop,label:a.label,align:"center"},scopedSlots:e._u([{key:"default",fn:function({row:s}){return["questionType"===a.prop?t("div",[t("el-select",{attrs:{placeholder:"请选择问题类型"},model:{value:s[a.prop],callback:function(t){e.$set(s,a.prop,t)},expression:"row[column.prop]"}},[t("el-option",{attrs:{label:"单选题",value:0}}),t("el-option",{attrs:{label:"多选题",value:1}}),t("el-option",{attrs:{label:"判断题",value:2}})],1)],1):t("div",[t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:s[a.prop],callback:function(t){e.$set(s,a.prop,t)},expression:"row[column.prop]"}})],1)]}}],null,!0)})})),t("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showAnswers(a)}}},[e._v("编辑答案")])]}}])})],2),t("el-dialog",{attrs:{visible:e.dialogVisible,title:"编辑答案",width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-table",{attrs:{data:e.selectedAnswers,border:""}},[t("el-table-column",{attrs:{prop:"answer",label:"答案",align:"center"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-input",{attrs:{placeholder:"请输入答案"},model:{value:a.answer,callback:function(t){e.$set(a,"answer",t)},expression:"row.answer"}})]}}])}),t("el-table-column",{attrs:{label:"是否正确",align:"center"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-switch",{model:{value:a.isTrue,callback:function(t){e.$set(a,"isTrue",t)},expression:"row.isTrue"}})]}}])})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveAnswers}},[e._v("保存")])],1)],1)],1)},Lt=[],Et={data(){return{questions:[],columns:[{label:"问题",prop:"question"},{label:"问题类型",prop:"questionType"}],dialogVisible:!1,selectedAnswers:[],fileList:[],courseId:"",courseList:[],chapterId:"",chapterList:[],subsectionId:"",subsectionList:[],subminting:!1}},methods:{handleFileUpload(e){this.fileList.push(e);const t=new FileReader;t.onload=e=>{const t=e.target.result,a=qt().read(t,{type:"binary"}),s=a.SheetNames[0],o=a.Sheets[s],r=qt().utils.sheet_to_json(o);this.parseExcelData(r),console.log(this.questions)},t.readAsBinaryString(e.raw)},parseExcelData(e){this.questions=e.map((e=>{let t=0;switch(e.questionType){case"单选题":t=0;break;case"多选题":t=1;break;case"判断题":t=2;break;default:t=0;break}let a=[];for(const s in e)if(e.hasOwnProperty(s)){const t=s.match(/^answer(_\d+)?$/);s.match(/^isTrue(_\d+)?$/);if(t){const o=t[1]?parseInt(t[1].substring(1),10):0,r=e[s],i=`isTrue${t[1]||""}`,n="是"==e[i];a[o]={answer:r,isTrue:n}}}return{question:e.question,questionType:t,answers:a}}))},showAnswers(e){this.selectedAnswers=e.answers,this.dialogVisible=!0},saveAnswers(){this.dialogVisible=!1,b.Message.success("答案已保存")},beforeRemove(e,t){return b.MessageBox.confirm(`确定移除 ${e.name}？`)},handleExceed(e,t){b.Message.warning(`当前限制选择 1 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+t.length} 个文件`)},getChapterList(){this.subsectionList=[],this.chapterId="",this.subsectionId="",P.getChapterListNameTitleAndId(this.courseId).then((e=>{this.chapterList=e.data}))},getSelectionList(){this.subsectionId="",P.getSubsectionListNameAndId(this.chapterId).then((e=>{this.subsectionList=e.data}))},submintQuestionsToServer(){this.subsectionId?0!=this.questions.length?this.subminting?b.Message.error("正在上传，请勿重复操作"):(this.subminting=!0,P.insertQuestions(this.questions,this.subsectionId).then((e=>{this.subminting=!1,this.questions=[],this.fileList=[]}))):b.Message.error("请上传文件"):b.Message.error("请选择小节")}},mounted(){P.getCourseListNameAndId().then((e=>{this.courseList=e.data}))}},Qt=Et,Rt=(0,i.A)(Qt,Nt,Lt,!1,null,"83308530",null),Dt=Rt.exports,Bt=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"20px"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("h2",[e._v("课程添加")]),t("el-form",[t("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"课程名称",model:e.course}},[t("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:e.course.courseName,callback:function(t){e.$set(e.course,"courseName",t)},expression:"course.courseName"}})],1),t("el-form-item",{attrs:{label:"课程图片（添加图片连接）",model:e.course}},[t("el-input",{attrs:{placeholder:"请输入课程图片连接"},model:{value:e.course.courseImage,callback:function(t){e.$set(e.course,"courseImage",t)},expression:"course.courseImage"}}),t("el-image",{attrs:{src:e.course.courseImage}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1),t("el-form-item",{attrs:{label:"课程描述"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入课程描述"},model:{value:e.course.courseDescribe,callback:function(t){e.$set(e.course,"courseDescribe",t)},expression:"course.courseDescribe"}})],1),t("el-form-item",{attrs:{label:"添加章节"}},[t("br"),e._l(e.course.chapters,(function(a,s){return t("el-form",{key:s,attrs:{data:a}},[t("el-form-item",{attrs:{label:"章节标题","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节标题（第*章）"},model:{value:a.chapterTitle,callback:function(t){e.$set(a,"chapterTitle",t)},expression:"chapter.chapterTitle"}})],1),t("el-form-item",{attrs:{label:"章节名称","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节名称"},model:{value:a.chapterName,callback:function(t){e.$set(a,"chapterName",t)},expression:"chapter.chapterName"}})],1),t("el-form-item",{attrs:{label:"添加小节"}},[t("br"),e._l(a.subsections,(function(a,s){return t("el-form",{key:s,attrs:{data:a}},[t("el-form-item",{attrs:{label:"小节名称","label-width":"120px"}},[t("el-input",{attrs:{placeholder:"请输入小节名称"},model:{value:a.subsectionName,callback:function(t){e.$set(a,"subsectionName",t)},expression:"subsection.subsectionName"}})],1)],1)}))],2),t("el-form-item",{attrs:{"label-width":"120px"}},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return a.subsections.push({subsectionName:""})}}},[e._v("小节 ")]),t("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-minus"},on:{click:function(e){return a.subsections.pop()}}},[e._v(" 小节 ")])],1)],1)}))],2),t("el-form-item",{attrs:{"label-width":"80px"}},[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.course.chapters.push({chapterName:"",chapterTitle:"",subsections:[]})}}},[e._v("章节 ")]),t("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-minus"},on:{click:function(t){return e.course.chapters.pop()}}},[e._v(" 章节 ")])],1),t("el-form-item",{staticStyle:{display:"flex","justify-content":"center"}},[t("el-button",{attrs:{size:"medium",type:"success"},on:{click:e.addCourse}},[e._v(" 确认添加 ")])],1)],1)],1),t("el-col",{attrs:{span:18}},[t("div",[t("el-form",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{"label-width":"20px"}},[t("el-form-item",[t("h2",[e._v("课程列表")])]),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}})],1),t("el-form-item",[t("el-checkbox",{model:{value:e.vague,callback:function(t){e.vague=t},expression:"vague"}},[e._v("模糊搜索")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.nextPage(1)}}},[e._v("搜索")])],1)],1)],1),t("div",{staticStyle:{padding:"20px"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.courses,height:"740"}},[t("el-table-column",{attrs:{prop:"courseId",label:"课程ID",width:"300"}}),t("el-table-column",{attrs:{prop:"courseName",label:"课程名称"}}),t("el-table-column",{attrs:{prop:"courseImage",label:"课程图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.courseImage,fit:"contain"}})]}}])}),t("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"overflow-x":"hidden","white-space":"nowrap","text-overflow":"ellipsis",width:"100%",height:"100%"},domProps:{innerHTML:e._s(a.row.courseDescribe)}})]}}])}),t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"right",gap:"10px"}},[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.showChapters(a.row)}}},[e._v("查看章节")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.addChapter(a.row)}}},[e._v("添加章节")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editCourse(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteCourse(a.row)}}},[e._v("删除")])],1)]}}])})],1)],1),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",padding:"20px"}},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.nextPage}})],1)])],1),t("el-dialog",{attrs:{title:"查看章节",visible:e.chaptersDialogVisible,width:"80%"},on:{"update:visible":function(t){e.chaptersDialogVisible=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.chapters}},[t("el-table-column",{attrs:{prop:"chapterId",label:"章节ID",width:"300"}}),t("el-table-column",{attrs:{prop:"chapterName",label:"章节名称"}}),t("el-table-column",{attrs:{prop:"chapterTitle",label:"章节标题"}}),t("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.showSubsections(a.row)}}},[e._v("查看小节")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.addSubsection(a.row)}}},[e._v("添加小节")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editChapter(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteChapter(a.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"查看小节",visible:e.subsectionsDialogVisible,width:"80%"},on:{"update:visible":function(t){e.subsectionsDialogVisible=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.subsections}},[t("el-table-column",{attrs:{prop:"subsectionId",label:"小节ID",width:"300"}}),t("el-table-column",{attrs:{prop:"subsectionName",label:"小节名称"}}),t("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editSubsection(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteSubsection(a.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"添加章节",visible:e.addChapterGroup.show,width:"40%"},on:{"update:visible":function(t){return e.$set(e.addChapterGroup,"show",t)}}},[t("el-form",{attrs:{model:e.addChapterGroup.chapter}},[t("el-form-item",{attrs:{label:"章节标题","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节标题（第*章）"},model:{value:e.addChapterGroup.chapter.chapterTitle,callback:function(t){e.$set(e.addChapterGroup.chapter,"chapterTitle",t)},expression:"addChapterGroup.chapter.chapterTitle"}})],1),t("el-form-item",{attrs:{label:"章节名称","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节名称"},model:{value:e.addChapterGroup.chapter.chapterName,callback:function(t){e.$set(e.addChapterGroup.chapter,"chapterName",t)},expression:"addChapterGroup.chapter.chapterName"}})],1),t("el-form-item",{attrs:{label:"添加小节"}},[t("br"),e._l(e.addChapterGroup.chapter.subsections,(function(a,s){return t("el-form-item",{key:s,attrs:{label:"小节名称","label-width":"120px"}},[t("el-input",{attrs:{placeholder:"请输入小节名称"},model:{value:a.subsectionName,callback:function(t){e.$set(a,"subsectionName",t)},expression:"subsection.subsectionName"}})],1)}))],2),t("el-form-item",{attrs:{"label-width":"120px"}},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addChapterGroup.chapter.subsections.push({subsectionName:""})}}},[e._v(" 添加小节 ")]),t("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-minus"},on:{click:function(t){return e.addChapterGroup.chapter.subsections.pop()}}},[e._v(" 删除小节 ")])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addChapterSubmit}},[e._v("确认添加")])],1)],1),t("el-dialog",{attrs:{title:"编辑课程",visible:e.editCourseGroup.show,width:"40%"},on:{"update:visible":function(t){return e.$set(e.editCourseGroup,"show",t)}}},[t("el-form",{attrs:{model:e.editCourseGroup.course}},[t("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"课程名称"}},[t("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:e.editCourseGroup.course.courseName,callback:function(t){e.$set(e.editCourseGroup.course,"courseName",t)},expression:"editCourseGroup.course.courseName"}})],1),t("el-form-item",{attrs:{label:"课程图片（添加图片连接）"}},[t("el-input",{attrs:{placeholder:"请输入课程图片连接"},model:{value:e.editCourseGroup.course.courseImage,callback:function(t){e.$set(e.editCourseGroup.course,"courseImage",t)},expression:"editCourseGroup.course.courseImage"}}),t("el-image",{attrs:{src:e.editCourseGroup.course.courseImage}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1),t("el-form-item",{attrs:{label:"课程描述"}},[t("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入课程描述"},model:{value:e.editCourseGroup.course.courseDescribe,callback:function(t){e.$set(e.editCourseGroup.course,"courseDescribe",t)},expression:"editCourseGroup.course.courseDescribe"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.editCourseSubmit}},[e._v("确认修改")])],1)],1),t("el-dialog",{attrs:{title:"添加小节",visible:e.addSubsectionGroup.show,width:"40%"},on:{"update:visible":function(t){return e.$set(e.addSubsectionGroup,"show",t)}}},[t("el-form",{attrs:{model:e.addSubsectionGroup.subsection}},[t("el-form-item",{attrs:{label:"小节名称","label-width":"120px"}},[t("el-input",{attrs:{placeholder:"请输入小节名称"},model:{value:e.addSubsectionGroup.subsection.subsectionName,callback:function(t){e.$set(e.addSubsectionGroup.subsection,"subsectionName",t)},expression:"addSubsectionGroup.subsection.subsectionName"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addSubsectionSubmit}},[e._v("确认添加")])],1)],1),t("el-dialog",{attrs:{title:"编辑章节",visible:e.editChapterGroup.show,width:"40%"},on:{"update:visible":function(t){return e.$set(e.editChapterGroup,"show",t)}}},[t("el-form",{attrs:{model:e.editChapterGroup.chapter}},[t("el-form-item",{attrs:{label:"章节标题","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节标题（第*章）"},model:{value:e.editChapterGroup.chapter.chapterTitle,callback:function(t){e.$set(e.editChapterGroup.chapter,"chapterTitle",t)},expression:"editChapterGroup.chapter.chapterTitle"}})],1),t("el-form-item",{attrs:{label:"章节名称","label-width":"100px"}},[t("el-input",{attrs:{placeholder:"请输入章节名称"},model:{value:e.editChapterGroup.chapter.chapterName,callback:function(t){e.$set(e.editChapterGroup.chapter,"chapterName",t)},expression:"editChapterGroup.chapter.chapterName"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.editChapterSubmit}},[e._v("确认修改")])],1)],1),t("el-dialog",{attrs:{title:"编辑小节",visible:e.editSubsectionGroup.show,width:"40%"},on:{"update:visible":function(t){return e.$set(e.editSubsectionGroup,"show",t)}}},[t("el-form",{attrs:{model:e.editSubsectionGroup.subsection}},[t("el-form-item",{attrs:{label:"小节名称","label-width":"120px"}},[t("el-input",{attrs:{placeholder:"请输入小节名称"},model:{value:e.editSubsectionGroup.subsection.subsectionName,callback:function(t){e.$set(e.editSubsectionGroup.subsection,"subsectionName",t)},expression:"editSubsectionGroup.subsection.subsectionName"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.editSubsectionSubmit}},[e._v("确认修改")])],1)],1)],1)},Gt=[],Mt={data(){return{course:{courseName:"",courseImage:"",courseDescribe:"",chapters:[{chapterName:"",chapterTitle:"",subsections:[{subsectionName:""}]}]},courses:[{courseId:"",courseName:"",courseImage:"",courseDescribe:"",chapters:[{chapterId:"",chapterName:"",chapterTitle:"",subsections:[{subsectionId:"",subsectionName:""}]}]}],chapters:[{chapterId:"",chapterName:"",chapterTitle:"",subsections:[{subsectionId:"",subsectionName:""}]}],subsections:[{subsectionId:"",subsectionName:""}],chaptersDialogVisible:!1,subsectionsDialogVisible:!1,page:1,size:10,total:0,courseName:"",vague:!0,addChapterGroup:{show:!1,chapter:{chapterTitle:"",chapterName:"",subsections:[],courseId:""}},editCourseGroup:{show:!1,course:{courseName:"",courseImage:"",courseDescribe:"",courseId:""}},addSubsectionGroup:{show:!1,subsection:{subsectionName:"",chapterId:""}},editChapterGroup:{show:!1,chapter:{chapterTitle:"",chapterName:"",chapterId:""}},editSubsectionGroup:{show:!1,subsection:{subsectionName:"",subsectionId:""}}}},methods:{showChapters(e){this.chapters=e.chapters,this.chaptersDialogVisible=!0},showSubsections(e){console.log(e),this.subsections=e.subsections,this.subsectionsDialogVisible=!0},addChapter(e){this.addChapterGroup.chapter.courseId=e.courseId,this.addChapterGroup.show=!0},addChapterSubmit(){if(this.addChapterGroup.chapter.chapterName)if(this.addChapterGroup.chapter.chapterTitle)if(this.addChapterGroup.chapter.subsections.length){for(let e=0;e<this.addChapterGroup.chapter.subsections.length;e++)if(!this.addChapterGroup.chapter.subsections[e].subsectionName)return void this.$message.error("第"+(e+1)+"小节名称不能为空");P.insertChapter(this.addChapterGroup.chapter).then((e=>{this.addChapterGroup.show=!1,this.nextPage(this.page),this.addChapterGroup.chapter.chapterTitle="",this.addChapterGroup.chapter.chapterName="",this.addChapterGroup.chapter.subsections=[]}))}else this.$message.error("小节不能为空");else this.$message.error("章节标题不能为空");else this.$message.error("章节名称不能为空")},editCourse(e){this.editCourseGroup.course.courseId=e.courseId,this.editCourseGroup.course.courseName=e.courseName,this.editCourseGroup.course.courseImage=e.courseImage,this.editCourseGroup.course.courseDescribe=e.courseDescribe,this.editCourseGroup.show=!0},editCourseSubmit(){this.editCourseGroup.course.courseName?this.editCourseGroup.course.courseImage?this.editCourseGroup.course.courseDescribe?P.updateCourse(this.editCourseGroup.course).then((e=>{this.editCourseGroup.show=!1,this.nextPage(this.page)})):this.$message.error("课程描述不能为空"):this.$message.error("课程图片不能为空"):this.$message.error("课程名称不能为空")},deleteCourse(e){this.$confirm("确认删除该课程吗？").then((()=>{P.deleteCourseByCourseId(e.courseId).then((e=>{this.nextPage(this.page)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},editChapter(e){this.editChapterGroup.chapter.chapterId=e.chapterId,this.editChapterGroup.chapter.chapterTitle=e.chapterTitle,this.editChapterGroup.chapter.chapterName=e.chapterName,this.editChapterGroup.show=!0},editChapterSubmit(){this.editChapterGroup.chapter.chapterName?this.editChapterGroup.chapter.chapterTitle?P.updateChapter(this.editChapterGroup.chapter).then((e=>{this.editChapterGroup.show=!1,this.nextPage(this.page)})):this.$message.error("章节标题不能为空"):this.$message.error("章节名称不能为空")},addSubsection(e){this.addSubsectionGroup.subsection.chapterId=e.chapterId,this.addSubsectionGroup.show=!0},addSubsectionSubmit(){this.addSubsectionGroup.subsection.subsectionName?P.insertSubsection(this.addSubsectionGroup.subsection).then((e=>{this.addSubsectionGroup.show=!1,this.nextPage(this.page),this.addSubsectionGroup.subsection.subsectionName=""})):this.$message.error("小节名称不能为空")},deleteChapter(e){this.$confirm("确认删除该章节吗？").then((()=>{P.deleteChapterByChapterId(e.chapterId).then((e=>{this.nextPage(this.page)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},addCourse(){if(this.course.courseName)if(this.course.courseImage)if(this.course.courseDescribe)if(this.course.chapters.length){for(let e=0;e<this.course.chapters.length;e++){if(!/^第\d章$/.test(this.course.chapters[e].chapterTitle))return void this.$message.error("第"+(e+1)+"章节标题格式错误，请按照“第*章”格式填写");if(!this.course.chapters[e].chapterName)return void this.$message.error("第"+(e+1)+"章节名称不能为空");if(!this.course.chapters[e].subsections.length)return void this.$message.error("第"+(e+1)+"章节小节不能为空");for(let t=0;t<this.course.chapters[e].subsections.length;t++)if(!this.course.chapters[e].subsections[t].subsectionName)return void this.$message.error("第"+(e+1)+"章节第"+(t+1)+"小节名称不能为空")}P.insertCourse(this.course).then((e=>{this.nextPage(1)}))}else this.$message.error("章节不能为空");else this.$message.error("课程描述不能为空");else this.$message.error("课程图片不能为空");else this.$message.error("课程名称不能为空")},nextPage(e){this.page=e||1,P.getAllCourses(this.page,this.size,this.courseName,this.vague).then((e=>{this.courses=e.data.list,this.total=e.data.total}))},editSubsection(e){this.editSubsectionGroup.subsection.subsectionId=e.subsectionId,this.editSubsectionGroup.subsection.subsectionName=e.subsectionName,this.editSubsectionGroup.show=!0},editSubsectionSubmit(){this.editSubsectionGroup.subsection.subsectionName?P.updateSubsection(this.editSubsectionGroup.subsection).then((e=>{this.editSubsectionGroup.show=!1,this.nextPage(this.page)})):this.$message.error("小节名称不能为空")},deleteSubsection(e){this.$confirm("确认删除该小节吗？").then((()=>{P.deleteSubsectionBySubsectionId(e.subsectionId).then((e=>{this.nextPage(this.page)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}},mounted(){this.nextPage(1)}},zt=Mt,Ot=(0,i.A)(zt,Bt,Gt,!1,null,null,null),Ht=Ot.exports,Ut=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{"label-width":"20px",data:e.student}},[t("el-form-item",[t("h2",[e._v("学生信息列表")])]),t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.student.studentName,callback:function(t){e.$set(e.student,"studentName",t)},expression:"student.studentName"}})],1),t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.student.studentAccount,callback:function(t){e.$set(e.student,"studentAccount",t)},expression:"student.studentAccount"}})],1),t("el-form-item",[t("el-checkbox",{model:{value:e.vague,callback:function(t){e.vague=t},expression:"vague"}},[e._v("模糊查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(1)}}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.createStudentAccount}},[e._v("创建账号")])],1)],1)],1)],1),t("el-row",[t("el-col",{staticStyle:{padding:"20px"},attrs:{span:24}},[t("el-table",{attrs:{data:e.students,width:"100%",height:"550"}},[t("el-table-column",{attrs:{label:"学生ID",prop:"studentId",width:"300"}}),t("el-table-column",{attrs:{label:"学生名称",prop:"studentName"}}),t("el-table-column",{attrs:{label:"学生账号",prop:"studentAccount"}}),t("el-table-column",{attrs:{label:"学生密码"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-input",{attrs:{type:e.notShowPassword?"password":"text",disabled:""},model:{value:a.row.studentPassword,callback:function(t){e.$set(a.row,"studentPassword",t)},expression:"scope.row.studentPassword"}})]}}])}),t("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){e.notShowPassword=!e.notShowPassword}}},[e._v("显示密码")]),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteStudent(a.row.studentId)}}},[e._v("删除")])]}}])})],1)],1)],1),t("el-row",[t("el-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{span:24}},[t("el-pagination",{attrs:{"page-size":e.size,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.search}})],1)],1)],1)},Ft=[],jt={data(){return{student:{studentName:"",studentAccount:""},students:[],vague:!0,page:1,size:10,total:0,notShowPassword:!0}},methods:{search(e){e?this.page=e:e=1,P.getStudentListVague(this.student,this.page,this.size,this.vague).then((e=>{this.students=e.data.list,this.total=e.data.total}))},deleteStudent(e){this.$confirm("确认删除该学生的账户吗？").then((()=>{P.deleteStudentByStudentId(e).then((e=>{this.search(this.page)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}},mounted(){this.search(1)}},Vt=jt,Jt=(0,i.A)(Vt,Ut,Ft,!1,null,null,null),Wt=Jt.exports;s["default"].use(c.Ay);const Yt=[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:C,meta:{breadcrumb:"学生登录"}},{path:"/home",name:"home",component:N,meta:{breadcrumb:"学生首页"},children:[{path:"/",redirect:"childHome"},{path:"childHome",name:"childHome",component:B,meta:{breadcrumb:"学生子首页"}},{path:"mistakesCollection",name:"mistakesCollection",component:U,meta:{breadcrumb:"错题集"}},{path:"pendingExamPagerList",name:"pendingExamPagerList",component:Fe,meta:{breadcrumb:"待考试试卷列表"}},{path:"examPage",name:"examPage",component:Ke,meta:{breadcrumb:"考试中试卷列表"}},{path:"finishExamPageList",name:"finishExamPageList",component:gt,meta:{breadcrumb:"已结束试卷列表"}}]},{path:"/examPaperPage/:examPaperAllocationId",name:"examPaperPage",component:st,meta:{breadcrumb:"考试试卷"}},{path:"/resultPage",name:"resultPage",component:ut,meta:{breadcrumb:"考试结果"}},{path:"/reviewPage/:examPaperAllocationId",name:"reviewPage",component:yt,meta:{breadcrumb:"试卷回顾"}},{path:"/admin",redirect:"/admin/login",meta:{breadcrumb:"管理员登录"}},{path:"/admin/login",name:"adminLogin",component:Y,meta:{breadcrumb:"管理员登录"}},{path:"/admin/home",name:"adminHome",component:ae,meta:{breadcrumb:""},children:[{path:"/",redirect:"childHome"},{path:"childHome",name:"adminChildHome",component:ge,meta:{breadcrumb:""}},{path:"adminQuestionManage",name:"adminQuestionManage",component:ye,meta:{breadcrumb:"题目管理"}},{path:"createExamPaper",name:"createExamPaper",component:qe,meta:{breadcrumb:"创建试卷"}},{path:"examPaperRelease",name:"examPaperRelease",component:Le,meta:{breadcrumb:"发布试卷"}},{path:"adminShowExamPaperList",name:"adminShowExamPaperList",component:Ge,meta:{breadcrumb:"试卷列表"}},{path:"adminStudentScore",name:"adminStudentScore",component:$t,meta:{breadcrumb:"学生成绩"}},{path:"importQuestions",name:"importQuestions",component:Dt,meta:{breadcrumb:"题目导入"}},{path:"adminCourseManage",name:"adminCourseManage",component:Ht,meta:{breadcrumb:"课程管理"}},{path:"adminStudentInfo",name:"adminStudentInfo",component:Wt,meta:{breadcrumb:"学生信息"}}]}],Kt=new c.Ay({mode:"hash",base:"/",routes:Yt});Kt.onError((e=>{"NavigationDuplicated"!==e.name&&console.error(e)}));var Xt=Kt;s["default"].config.productionTip=!1,s["default"].use(f()),new s["default"]({router:Xt,render:e=>e(u)}).$mount("#app")},3153:function(e,t,a){"use strict";e.exports=a.p+"img/logo.7ce082c9.png"},6251:function(){},7233:function(){},7419:function(){}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,o,r){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,r<i&&(i=r));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],n=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(l)var c=l(a)}for(t&&t(s);u<i.length;u++)r=i[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},s=self["webpackChunkexam_system_client"]=self["webpackChunkexam_system_client"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1823)}));s=a.O(s)})();
//# sourceMappingURL=app.bc03bbc9.js.map